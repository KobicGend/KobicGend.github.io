import{visualConfig}from"./map-config.js";export function stitchMap(e,t,o){const r=e.features.filter(e=>e.properties.name!==o),i=JSON.parse(JSON.stringify(e.features.find(e=>e.properties.name===o)));return i.properties.name=o+"_BORDERS",{type:"FeatureCollection",features:[...r,...t.features,i]}}export function getChartOption(e,t,o,r={}){const i=Math.max(...o.map(e=>e.value),0),a=[];return r.cityNames&&r.cityNames.forEach(e=>{a.push({name:e,itemStyle:{borderWidth:1,borderColor:"#ccc"}})}),r.activeProvinceName&&a.push({name:r.activeProvinceName+"_BORDERS",silent:!0,label:{show:!1},itemStyle:{areaColor:"rgba(0,0,0,0)",borderColor:"#444",borderWidth:2.5,zlevel:0}}),{title:{text:r.title||"æˆ‘çš„è¶³è¿¹åœ°å›¾",subtext:"å·¦é”®çœä»½ä»¥æŸ¥çœ‹åŸå¸‚ï¼Œå³é”®è¿”å›",left:"center",top:"5%",textStyle:{fontSize:20,color:"#333"}},tooltip:{trigger:"item",borderColor:"#171a24",borderWidth:1,backgroundColor:"rgba(255, 255, 255, 0.9)",formatter:function(e){let t="";if("effectScatter"===e.seriesType)t=`<div style="font-size: 16px; font-weight: bold; color: #171a24;">ğŸ“ ${e.name}</div>`,e.data&&e.data.description&&(t+=`<div style="margin-top: 5px; color: #666; max-width: 200px; white-space: normal;">${e.data.description}</div>`);else if("map"===e.seriesType){const o=e.value||0;t=`<div style="font-size: 16px; font-weight: bold;">${e.name}</div>`,o>0?r.isProvinceLevel?t+=`<div style="margin-top: 5px; color: #171a24;">å…± ${o} æ¡è®°å½•</div>`:t+=`<div style="margin-top: 5px; color: #171a24;">å…±èµ°è¿‡ ${o} åº§åŸ</div>`:t+='<div style="margin-top: 5px; color: #999;">æš‚æ— è¶³è¿¹</div>'}return t}},visualMap:{show:!0,min:0,max:i||1,zlevel:1,inRange:{color:visualConfig.inRange},left:"5%",bottom:"5%",calculable:!0},geo:{map:e,roam:!0,center:r.center||[104.31,35.58],zoom:r.zoom||1.6,label:{show:!0,fontSize:10},itemStyle:{areaColor:"#f5f5f5",borderColor:"#666",borderWidth:1.8},regions:a,emphasis:{itemStyle:{areaColor:"#f1b03f"}}},series:[{name:"è¶³è¿¹ç‚¹",type:"effectScatter",coordinateSystem:"geo",data:t,symbolSize:5,itemStyle:{color:"#fff",shadowBlur:10},zlevel:3},{name:"çƒ­åŠ›å›¾",type:"map",geoIndex:0,data:o,itemStyle:{borderWidth:0},zlevel:2}]}}