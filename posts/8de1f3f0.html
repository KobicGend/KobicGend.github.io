<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>算法程序實訓｜早讀講義 | 小明の雜貨鋪</title><meta name="author" content="小明同學"><meta name="copyright" content="小明同學"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="中國傳媒大學校賽複習資料。"><meta property="og:type" content="article"><meta property="og:title" content="算法程序實訓｜早讀講義"><meta property="og:url" content="http://kobicgend.top/posts/8de1f3f0.html"><meta property="og:site_name" content="小明の雜貨鋪"><meta property="og:description" content="中國傳媒大學校賽複習資料。"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="http://kobicgend.top/img/avatar.png"><meta property="article:published_time" content="2024-03-12T00:39:15.000Z"><meta property="article:modified_time" content="2024-03-28T09:48:44.000Z"><meta property="article:author" content="小明同學"><meta property="article:tag" content="ACM"><meta property="article:tag" content="筆記"><meta property="article:tag" content="算法"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://kobicgend.top/img/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "算法程序實訓｜早讀講義",
  "url": "http://kobicgend.top/posts/8de1f3f0.html",
  "image": "http://kobicgend.top/img/avatar.png",
  "datePublished": "2024-03-12T00:39:15.000Z",
  "dateModified": "2024-03-28T09:48:44.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "小明同學",
      "url": "http://kobicgend.top/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://kobicgend.top/posts/8de1f3f0.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const n=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:n}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:n}=JSON.parse(t);if(!(Date.now()>n))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,n)=>{const a=document.createElement("script");a.src=e,a.async=!0,Object.entries(t).forEach(([e,t])=>a.setAttribute(e,t)),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||o()},a.onerror=n,document.head.appendChild(a)}),getCSS:(e,t)=>new Promise((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||o()},a.onerror=n,document.head.appendChild(a)}),addGlobalFn:(e,t,o=!1,n=window)=>{if(e.startsWith("pjax"))return;const a=n.globalFn||{};a[e]=a[e]||{},a[e][o||Object.keys(a[e]).length]=t,n.globalFn=a}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","undefined")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","undefined")};btf.activateDarkMode=t,btf.activateLightMode=o;const n=e.get("theme");"dark"===n?t():"light"===n&&o();const a=e.get("aside-status");void 0!==a&&document.documentElement.classList.toggle("hide-aside","hide"===a);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!1},copy:{success:"複製成功",error:"複製失敗",noSupport:"瀏覽器不支援"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"剛剛",min:"分鐘前",hour:"小時前",day:"天前",month:"個月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"載入更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!0,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"算法程序實訓｜早讀講義",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="/css/fonts.css"><link rel="stylesheet" href="/css/title.css"><link rel="stylesheet" href="/css/flipcountdown.css"><link rel="stylesheet" href="/css/masktag.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><script>(()=>{const d=document.getElementById("loading-box"),e=document.body,o=()=>{e.style.overflow="",d.classList.add("loaded")},l=()=>{e.style.overflow="hidden",d.classList.remove("loaded")};l(),window.addEventListener("load",o)})()</script><div id="web_bg" style="background-image:url(url(http://kobicgend.top/img/background.png))"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">381</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">23</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-book"></i> <span>記事簿</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/diary/diary-stz/"><i class="fa-fw fa fa-book"></i> <span>《中外历史纲要》</span></a></li><li><a class="site-page child" href="/categories/%E6%97%A5%E8%A8%98/%E4%B8%BB%E6%9C%BA%E8%A8%BB%E8%A8%98/"><i class="fa-fw fa fa-book"></i> <span>《主机註記》</span></a></li><li><a class="site-page child" href="/diary/hutaolinriji/"><i class="fa-fw fa fa-book"></i> <span>楜桃林日記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-book-open"></i> <span>筆記本</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/935ec80a.html"><i class="fa-fw fa fa-quran"></i> <span>XCPC</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>大學筆記</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>其它筆記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-palette"></i> <span>作品集</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E4%BD%9C%E5%93%81/%E5%BE%AE%E4%BF%A1%E5%85%AC%E7%9C%BE%E8%99%9F/"><i class="fa-fw fa fa-radio"></i> <span>CUC-Radio</span></a></li><li><a class="site-page child" href="/posts/e7eea71f.html"><i class="fa-fw fa fa-stamp"></i> <span>篆刻作品展</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-toolbox"></i> <span>工具箱</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/Music/"><i class="fa-fw fa fa-music"></i> <span>Music</span></a></li><li><a class="site-page child" href="/categories/Poetry/"><i class="fa-fw fa fa-guitar"></i> <span>詩詞</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i> <span>更多</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/c096c313.html"><i class="fa-fw fa fa-subway"></i> <span>地鐵圖</span></a></li><li><a class="site-page child" href="/ovo/eikon"><span>賽博空調</span></a></li><li><a class="site-page child" href="/ovo/tabe"><span>中午吃什么</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>好盆友</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user"></i> <span>關於小明</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/index.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">小明の雜貨鋪</span></a><a class="nav-page-title" href="/"><span class="site-name">算法程序實訓｜早讀講義</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-book"></i> <span>記事簿</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/diary/diary-stz/"><i class="fa-fw fa fa-book"></i> <span>《中外历史纲要》</span></a></li><li><a class="site-page child" href="/categories/%E6%97%A5%E8%A8%98/%E4%B8%BB%E6%9C%BA%E8%A8%BB%E8%A8%98/"><i class="fa-fw fa fa-book"></i> <span>《主机註記》</span></a></li><li><a class="site-page child" href="/diary/hutaolinriji/"><i class="fa-fw fa fa-book"></i> <span>楜桃林日記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-book-open"></i> <span>筆記本</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/935ec80a.html"><i class="fa-fw fa fa-quran"></i> <span>XCPC</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>大學筆記</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>其它筆記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-palette"></i> <span>作品集</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E4%BD%9C%E5%93%81/%E5%BE%AE%E4%BF%A1%E5%85%AC%E7%9C%BE%E8%99%9F/"><i class="fa-fw fa fa-radio"></i> <span>CUC-Radio</span></a></li><li><a class="site-page child" href="/posts/e7eea71f.html"><i class="fa-fw fa fa-stamp"></i> <span>篆刻作品展</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-toolbox"></i> <span>工具箱</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/Music/"><i class="fa-fw fa fa-music"></i> <span>Music</span></a></li><li><a class="site-page child" href="/categories/Poetry/"><i class="fa-fw fa fa-guitar"></i> <span>詩詞</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i> <span>更多</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/c096c313.html"><i class="fa-fw fa fa-subway"></i> <span>地鐵圖</span></a></li><li><a class="site-page child" href="/ovo/eikon"><span>賽博空調</span></a></li><li><a class="site-page child" href="/ovo/tabe"><span>中午吃什么</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>好盆友</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user"></i> <span>關於小明</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">算法程序實訓｜早讀講義</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2024-03-12T00:39:15.000Z" title="發表於 2024-03-12 08:39:15">2024-03-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2024-03-28T09:48:44.000Z" title="更新於 2024-03-28 17:48:44">2024-03-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AD%86%E8%A8%98/">筆記</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AD%86%E8%A8%98/%E7%AE%97%E6%B3%95%E7%AD%86%E8%A8%98/">算法筆記</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">10.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>53分鐘</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">瀏覽量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1>算法程序實訓｜早讀講義</h1><p><strong>二次編寫</strong></p><ul><li><p>優化合併</p><ul><li>合併了原「学习笔记」「算法学习笔记 - 详细解释版」；</li><li>整理原「考後复盘自评」中重要易錯點；</li></ul></li><li><p>依據考試內容精簡筆記</p><ul><li>刪除了廢話；</li><li>刪除了考試範圍以外的知識；</li><li>刪除了熟練掌握的知識；</li></ul></li><li><p>重新排版，美化筆記</p><ul><li>修訂部分 markdown 格式錯誤；</li></ul></li></ul><h2 id="PART-0">PART 0</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span> <span class="comment">// pair; swap; hash(一般與 unordered_map 連用)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ull;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> dd;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll x = <span class="number">0</span>, f = <span class="number">0</span>; <span class="type">char</span> c = <span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span> (c &gt; <span class="number">57</span> || c &lt; <span class="number">48</span>) f |= c == <span class="number">45</span>, c = <span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span> (c &lt;= <span class="number">57</span> &amp;&amp; c &gt;= <span class="number">48</span>) x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + c - <span class="number">48</span>, c = <span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">return</span> f ? -x : x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="type">const</span> <span class="type">int</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ModInt</span> &#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">static</span> <span class="type">int</span> _mod = T;</span><br><span class="line">    <span class="type">int</span> _x;</span><br><span class="line">    <span class="built_in">ModInt</span>(<span class="type">int</span> _x = <span class="number">0</span>) : _x((_x + _mod) % _mod) &#123;&#125;</span><br><span class="line">    <span class="built_in">ModInt</span>(ll _x) : _x(<span class="built_in">int</span>((_x + _mod) % _mod)) &#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">vale</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> _x; &#125;</span><br><span class="line">    ModInt <span class="keyword">operator</span> + (<span class="type">const</span> ModInt&amp; _a) <span class="type">const</span> &#123; <span class="type">int</span> _b = _x + _a._x; <span class="keyword">return</span> <span class="built_in">ModInt</span>(_b &lt; _mod ? _b : _b - _mod); &#125;</span><br><span class="line">    ModInt <span class="keyword">operator</span> - (<span class="type">const</span> ModInt&amp; _a) <span class="type">const</span> &#123; <span class="type">int</span> _b = _x - _a._x; <span class="keyword">return</span> <span class="built_in">ModInt</span>(_b &lt; <span class="number">0</span> ? _b + _mod : _b); &#125;</span><br><span class="line">    ModInt <span class="keyword">operator</span> * (<span class="type">const</span> ModInt&amp; _a) <span class="type">const</span> &#123; <span class="keyword">return</span> <span class="built_in">ModInt</span>(<span class="number">1LL</span> * _x * _a._x % _mod); &#125;</span><br><span class="line">    ModInt <span class="keyword">operator</span> / (<span class="type">const</span> ModInt&amp; _a) <span class="type">const</span> &#123; <span class="keyword">return</span> *<span class="keyword">this</span> * _a.<span class="built_in">inv</span>(); &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> == (<span class="type">const</span> ModInt&amp; _a) <span class="type">const</span> &#123; <span class="keyword">return</span> _x == _a._x; &#125;;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> != (<span class="type">const</span> ModInt&amp; _a) <span class="type">const</span> &#123; <span class="keyword">return</span> _x != _a._x; &#125;;</span><br><span class="line">    <span class="type">void</span> <span class="keyword">operator</span> += (<span class="type">const</span> ModInt&amp; _a) &#123; _x += _a._x; <span class="keyword">if</span> (_x &gt;= _mod) _x -= _mod; &#125;</span><br><span class="line">    <span class="type">void</span> <span class="keyword">operator</span> -= (<span class="type">const</span> ModInt&amp; _a) &#123; _x -= _a._x; <span class="keyword">if</span> (_x &lt; <span class="number">0</span>) _x += _mod; &#125;</span><br><span class="line">    <span class="type">void</span> <span class="keyword">operator</span> *= (<span class="type">const</span> ModInt&amp; _a) &#123; _x = <span class="number">1LL</span> * _x * _a._x % _mod; &#125;</span><br><span class="line">    <span class="type">void</span> <span class="keyword">operator</span> /= (<span class="type">const</span> ModInt&amp; _a) &#123; *<span class="keyword">this</span> = *<span class="keyword">this</span> / _a; &#125;</span><br><span class="line">    <span class="keyword">friend</span> ModInt <span class="keyword">operator</span> + (<span class="type">int</span> _y, <span class="type">const</span> ModInt&amp; _a) &#123; <span class="type">int</span> _b = _y + _a._x; <span class="keyword">return</span> <span class="built_in">ModInt</span>(_b &lt; _mod ? _b : _b - _mod); &#125;</span><br><span class="line">    <span class="keyword">friend</span> ModInt <span class="keyword">operator</span> - (<span class="type">int</span> _y, <span class="type">const</span> ModInt&amp; _a) &#123; <span class="type">int</span> _b = _y - _a._x; <span class="keyword">return</span> <span class="built_in">ModInt</span>(_b &lt; <span class="number">0</span> ? _b + _mod : _b); &#125;</span><br><span class="line">    <span class="keyword">friend</span> ModInt <span class="keyword">operator</span> * (<span class="type">int</span> _y, <span class="type">const</span> ModInt&amp; _a) &#123; <span class="keyword">return</span> <span class="built_in">ModInt</span>(<span class="number">1LL</span> * _y * _a._x % _mod); &#125;</span><br><span class="line">    <span class="keyword">friend</span> ModInt <span class="keyword">operator</span> / (<span class="type">int</span> _y, <span class="type">const</span> ModInt&amp; _a) &#123; <span class="keyword">return</span> <span class="built_in">ModInt</span>(_y) / _a; &#125;</span><br><span class="line">    <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="type">const</span> ModInt&amp; _a) &#123; <span class="keyword">return</span> os &lt;&lt; _a._x; &#125;</span><br><span class="line">    <span class="keyword">friend</span> std::istream&amp; <span class="keyword">operator</span>&gt;&gt;(std::istream&amp; is, ModInt&amp; <span class="type">_t</span>) &#123; <span class="keyword">return</span> is &gt;&gt; <span class="type">_t</span>._x; &#125;</span><br><span class="line">    <span class="function">ModInt <span class="title">pow</span><span class="params">(ll n)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="function">ModInt <span class="title">res</span><span class="params">(<span class="number">1</span>)</span>, <span class="title">mul</span><span class="params">(_x)</span></span>;</span><br><span class="line">        <span class="keyword">while</span> (n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (n &amp; <span class="number">1</span>) res *= mul;</span><br><span class="line">            mul *= mul;</span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">ModInt <span class="title">inv</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> _a = _x, _b = _mod, _u = <span class="number">1</span>, _v = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (_b) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="type">_t</span> = _a / _b;</span><br><span class="line">            _a -= <span class="type">_t</span> * _b; std::<span class="built_in">swap</span>(_a, _b);</span><br><span class="line">            _u -= <span class="type">_t</span> * _v; std::<span class="built_in">swap</span>(_u, _v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (_u &lt; <span class="number">0</span>) _u += _mod;</span><br><span class="line">        <span class="keyword">return</span> _u;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> ModInt&lt;<span class="number">571373</span>&gt; mint;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">beforeT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>); std::cin.<span class="built_in">tie</span>(<span class="number">0</span>), std::cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>計算機 $\rm 1s$ 能执行 $5\times10^8$ 次计算，若時間限制爲 $\rm 1s$，有</p><p>$$<br>\begin{array}{ccccccc}</p><p>\Theta(n) &amp; \Theta(n\log n) &amp; \Theta(n\sqrt n) &amp; \Theta(n^2) &amp; \Theta(n^3) &amp; \Theta(2^n) &amp; \Theta(n!) \</p><p>n\le10^8 &amp; n\leqslant10^6 &amp; n\leqslant10^5 &amp; n\leqslant5000 &amp; n\leqslant300 &amp; n\leqslant25 &amp; n\leqslant11</p><p>\end{array}<br>$$</p><div style="page-break-after:always"></div><h2 id="PART-1">PART 1</h2><h3 id="第一～八講 -cpp- 基礎">第一～八講　<code>cpp</code> 基礎</h3><h4 id="數据類型範圍">數据類型範圍</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>;             <span class="comment">// -128 ~ 127 或 0 ~ 255</span></span><br><span class="line"><span class="type">int</span>;            <span class="comment">// -32,768 ~ 32,767 或 -2,147,483,648 ~ 2,147,483,647</span></span><br><span class="line"><span class="type">short</span>;            <span class="comment">// -32,768 ~ 32,767</span></span><br><span class="line"><span class="type">long</span>;            <span class="comment">// -2,147,483,648 ~ 2,147,483,647</span></span><br><span class="line"><span class="type">long</span> <span class="type">long</span>;        <span class="comment">// -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,808</span></span><br><span class="line"><span class="type">float</span>;             <span class="comment">// 1.2E-38 ~ 3.4E+38         6 位有效位</span></span><br><span class="line"><span class="type">double</span>;            <span class="comment">// 2.3E-308 ~ 1.7E+308         15 位有效位</span></span><br><span class="line"><span class="type">long</span> <span class="type">double</span>;    <span class="comment">// 3.4E-4932 ~ 1.1E+4932     19 位有效位</span></span><br></pre></td></tr></table></figure><h4 id="I-O 流控制符">I/O 流控制符</h4><p>下列控制符均需頭文件 <code>#include &lt;iomanip&gt;</code>，绝大多數具有保留效力，除了 <code>setw</code>：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 控制浮点數值显示 */</span></span><br><span class="line"><span class="type">double</span> a = <span class="number">22.0</span>/<span class="number">7</span>;</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">3</span>) &lt;&lt; a &lt;&lt; endl;         <span class="comment">// 3.143 保留三位小數 %.3lf</span></span><br><span class="line">cout &lt;&lt; scientific &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">2</span>) &lt;&lt; a &lt;&lt; endl; <span class="comment">// 3.143e+00 保留兩位小數的科学计數法 %.2e</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 設置值的輸出宽度 */</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="number">10</span> &lt;&lt; <span class="number">20</span> &lt;&lt; endl;                <span class="comment">//       1020 設置宽度 %.*d</span></span><br><span class="line">cout &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;*&#x27;</span>) &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="number">10</span> &lt;&lt; <span class="number">20</span> &lt;&lt; endl;<span class="comment">// ******1020 設置填充字符</span></span><br><span class="line">cout &lt;&lt; left &lt;&lt; <span class="built_in">setw</span>(<span class="number">8</span>) &lt;&lt; <span class="number">10</span> &lt;&lt; <span class="number">20</span> &lt;&lt; endl;        <span class="comment">// 10******20 左對齊 %-</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 輸出八進制數和十六進制數 */</span> </span><br><span class="line">cout &lt;&lt; dec &lt;&lt; <span class="number">1001</span> &lt;&lt; endl;                    <span class="comment">// 1001 十進制 %d</span></span><br><span class="line">cout &lt;&lt; hex &lt;&lt; uppercase &lt;&lt; <span class="number">1001</span> &lt;&lt; endl;        <span class="comment">// 3E9  十六進制大写輸出 %X</span></span><br><span class="line">cout &lt;&lt; hex &lt;&lt; nouppercase &lt;&lt; <span class="number">1001</span> &lt;&lt; endl;        <span class="comment">// 3e9  十六進制小写輸出 %x</span></span><br><span class="line">cout &lt;&lt; oct &lt;&lt; <span class="number">1001</span> &lt;&lt; endl;                    <span class="comment">// 1751 八進制 %o</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 强制輸出小數点或符号 */</span></span><br><span class="line"><span class="type">double</span> b = <span class="number">10.0</span>/<span class="number">5</span>;</span><br><span class="line">cout &lt;&lt; showpoint &lt;&lt; b &lt;&lt; endl;                    <span class="comment">// 2.00000     %lf</span></span><br><span class="line">cout &lt;&lt; showpos &lt;&lt; b &lt;&lt; endl;                    <span class="comment">// +2.00000 %+lf</span></span><br><span class="line">cout &lt;&lt; noshowpoint &lt;&lt; b &lt;&lt; endl;                <span class="comment">// 2         %g</span></span><br><span class="line">cout &lt;&lt; noshowpos &lt;&lt; b &lt;&lt; endl;                    <span class="comment">// 2.00000  %lf</span></span><br></pre></td></tr></table></figure><h4 id="表達式優先級">表達式優先級</h4><p>不用記憶結合方向和優先級，加括號即可。</p><div style="page-break-after:always"></div><h3 id="第九講 - 前綴和与差分">第九講 前綴和与差分</h3><ul><li><p><strong>一維前綴和</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s[i] = s[i<span class="number">-1</span>] + a[i];             <span class="comment">// 預處理</span></span><br><span class="line">s[r] - s[l<span class="number">-1</span>];                     <span class="comment">// 查詢 表示 a[l] + a[l+1] + ... + a[r]</span></span><br></pre></td></tr></table></figure></li><li><p><strong>一維差分</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b[i] = a[i] - a[i<span class="number">-1</span>];             <span class="comment">// 預處理 </span></span><br><span class="line">b[l] += c, b[r<span class="number">+1</span>] -= c;         <span class="comment">// 操作 给 a 数組中的[l,r] 區间中的每一个數都加上 c</span></span><br><span class="line">a[i] = a[i<span class="number">-1</span>] + b[i];             <span class="comment">// 查詢</span></span><br></pre></td></tr></table></figure></li><li><p><strong>二維前綴和</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s[i][j] = s[i<span class="number">-1</span>][j] + s[i][j<span class="number">-1</span>] - s[i<span class="number">-1</span>][j<span class="number">-1</span>] + a[i][j];    <span class="comment">// 預處理 </span></span><br><span class="line">s[x2, y2] - s[x1<span class="number">-1</span>, y2] - s[x2, y1<span class="number">-1</span>] + s[x1<span class="number">-1</span>, y1<span class="number">-1</span>];</span><br><span class="line"><span class="comment">// 查詢 表示以(x1, y1) 爲左上角，(x2, y2)爲右下角的子矩阵的和</span></span><br></pre></td></tr></table></figure></li><li><p><strong>二維差分</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b[i][j] = a[i][j] - a[i<span class="number">-1</span>][j] - a[i][j<span class="number">-1</span>] + a[i<span class="number">-1</span>][j<span class="number">-1</span>];    <span class="comment">// 預處理 </span></span><br><span class="line">b[x1][y1] += c;</span><br><span class="line">b[x1][y2<span class="number">+1</span>] -= c;</span><br><span class="line">b[x2<span class="number">+1</span>][y1] -= c;</span><br><span class="line">b[x2<span class="number">+1</span>][y2<span class="number">+1</span>] += c;</span><br><span class="line"><span class="comment">// 操作 给 a 数組中的[(x1,x2),(y1,y2)] 方阵中的每一个數都加上 c</span></span><br><span class="line">a[i][j] = b[i][j] + a[i<span class="number">-1</span>][j] + a[i][j<span class="number">-1</span>] - a[i<span class="number">-1</span>][j<span class="number">-1</span>];    <span class="comment">// 查詢</span></span><br></pre></td></tr></table></figure></li></ul><div style="page-break-after:always"></div><h3 id="第十講 - 排序">第十講 排序</h3><ul><li><p><strong>快排</strong></p><ul><li>原理：通過一趟快速排序將要排序的數据分割成獨立的兩部分，其中一部分的所有數据都比另外一部分的所有數据都要小，然後再按此方法對这兩部分數据分別进行快速排序，直到最後各部分只有單个數爲止。時間复杂度 $\Theta(n\log(n))$。</li><li><strong>標準模板库 <code>std::sort()</code></strong>，需要頭文件 <code>&lt;algorithm&gt;</code>。</li></ul></li><li><p><strong>歸併排序</strong></p><ul><li><p>原理：從兩个有序數組的表頭开始依次比較 a[i] 和 a[j] 的大小，如果 a[i] &lt; a[j]，則將 a[i] 複製到歸併數組 r[k] 中，并且 i 和 k 都加 1 後移，否則將 a[j] 複製歸併到 r[k] 中，并且 j 和 k 都加 1 後移；如此循環下去，直到其中一个有序表取完後再將另外一个有序表中剩餘的元素複製到 r 中。時間复杂度 $\Theta(n\log(n))$。</p></li><li><p>代碼：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ll cnt = <span class="number">0</span>; <span class="comment">// 逆序數 </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span>* a, <span class="type">int</span> l, <span class="type">int</span> mid, <span class="type">int</span> r)</span> </span>&#123;     <span class="comment">// 合并函數</span></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; b; <span class="comment">// 用 vector 申请一个辅助函數</span></span><br><span class="line">    <span class="type">int</span> i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &lt;= a[j]) b.<span class="built_in">push_back</span>(a[i++]);     <span class="comment">// 按從小到大存放在 b 數組里面</span></span><br><span class="line">        <span class="keyword">else</span> b.<span class="built_in">push_back</span>(a[j++]), cnt += mid - i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) b.<span class="built_in">push_back</span>(a[i++]);     <span class="comment">// j 序列結束，將剩餘的 i 序列补充在 b 數組中 </span></span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) b.<span class="built_in">push_back</span>(a[j++]);     <span class="comment">// i 序列結束，將剩餘的 j 序列补充在 b 數組中 </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = l; i &lt;= r; i++) a[i] = b[i - l];<span class="comment">// 將 b 數組的值传遞给數組 a</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mergesort</span><span class="params">(<span class="type">int</span>* a, <span class="type">int</span> l, <span class="type">int</span> r)</span> </span>&#123;         <span class="comment">// 歸併排序</span></span><br><span class="line">    <span class="keyword">if</span> (l &lt; r) &#123;</span><br><span class="line">        <span class="type">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">mergesort</span>(a, l, mid);                 <span class="comment">// 對 a[l,mid] 进行排序 </span></span><br><span class="line">        <span class="built_in">mergesort</span>(a, mid + <span class="number">1</span>, r);              <span class="comment">// 對 a[mid+1,r] 进行排序</span></span><br><span class="line">        <span class="built_in">merge</span>(a, l, mid, r);                 <span class="comment">// 进行合并操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><div style="page-break-after:always"></div><h3 id="第十一講 - 分治與二分">第十一講 分治與二分</h3><ul><li><p><strong>數組的二分查找</strong>：在從小到大的排序數組中，從數組的 <code>[begin, end)</code> 區间中二分查找第一个</p><ul><li><p><code>lower_bound(begin, end, num)</code>：大于或等于 <code>num</code> 的數字，</p></li><li><p><code>upper_bound(begin, end, num)</code>：大于 <code>num</code> 的數字，</p></li></ul><p>找到返回该數字的地址，不存在則返回 <code>end</code>。通過返回的地址减去起始地址 <code>begin</code>，得到找到數字在數組中的下標。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span> <span class="comment">// 需要頭文件</span></span></span><br><span class="line"><span class="type">int</span> p = std::<span class="built_in">lower_bound</span>(a<span class="number">+1</span>, a+n, x) - a;</span><br><span class="line"><span class="keyword">if</span> (p != n) &#123;&#125; <span class="comment">// found at p</span></span><br><span class="line"><span class="keyword">else</span> &#123;&#125; <span class="comment">// not found</span></span><br></pre></td></tr></table></figure><p>使用 <code>std::lower_bound(begin, end, num, std::greater&lt;int&gt;());</code> 在從大到小的排好序的數組中，在數組的 <code>[begin, end)</code> 區间中二分查找第一个小于等于 <code>value</code> 的數，找到返回该數字的地址，没找到則返回 <code>end</code>。</p></li><li><p><strong>带有函數的二分查找</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> lt = l, rt = r, mid = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">while</span> (lt &lt;= rt) &#123;</span><br><span class="line">    mid = (lt + rt) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">half</span>(mid)) lt = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> rt = mid - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, mid);</span><br></pre></td></tr></table></figure><p>小數版</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">double</span> EPS = <span class="number">1e-6</span>;</span><br><span class="line"><span class="type">double</span> lt = l, rt = r, mid = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">while</span> (rt - lt &gt; EPS) &#123;</span><br><span class="line">    mid = (lt + rt) / <span class="number">2.0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">half</span>(mid)) lt = mid;</span><br><span class="line">    <span class="keyword">else</span> rt = mid;</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; fixed &lt;&lt; <span class="built_in">setprecision</span>(n) &lt;&lt; mid &lt;&lt; endl;</span><br></pre></td></tr></table></figure></li></ul><h3 id="第十二講 - 遞推與遞歸">第十二講 遞推與遞歸</h3><div style="page-break-after:always"></div><h3 id="第十三講 - 简單數学和枚舉约减">第十三講 简單數学和枚舉约减</h3><h4 id="求組合數">求組合數</h4><p><strong>組合數的定義</strong><br>$$<br>C_n^m=\frac{n\left(n-1\right)\cdots\left(n-m+1\right)}{m\left(m-1\right)\cdots1}<br>$$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll n, ll m, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (ll i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        ans = ans * (n - m + i) * <span class="built_in">inv</span>(i, p) % p;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>時間複雜度 $\Theta(m)$。</p><p><strong>橫向一維遞推</strong><br>$$<br>C_n^m=\frac{n-m+1}{m}C_n^{m-1}<br>$$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ll c[maxN][maxN];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getC</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    c[n][<span class="number">0</span>] = <span class="number">1</span>; c[n][n] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; n; ++j)</span><br><span class="line">        c[n][j] = c[n][j<span class="number">-1</span>] * (n-j<span class="number">+1</span>) * <span class="built_in">inv</span>(j, p) % p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在時間複雜度 $\Theta(n)$ 內計算 $C_n^0 \sim C_n^n$。</p><p><strong>楊輝三角二維遞推</strong><br>$$<br>C_n^m=C_{n-1}^{m}+C_{n-1}^{m-1}<br>$$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ll c[maxN][maxN];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getC</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        c[i][<span class="number">0</span>] = <span class="number">1</span>; c[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; ++j)</span><br><span class="line">            c[i][j] = (c[i<span class="number">-1</span>][j<span class="number">-1</span>] + c[i<span class="number">-1</span>][j]) % p;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在時間複雜度 $\Theta(n^2)$ 內計算 $C_0^0 \sim C_n^n$。</p><div style="page-break-after:always"></div><p><strong>預處理階乘</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ll fac[maxN], ifac[maxN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    fac[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) fac[i] = fac[i - <span class="number">1</span>] * i % p;</span><br><span class="line">    ifac[n] = <span class="built_in">qpow</span>(fac[n], p - <span class="number">2</span>, p);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = n; i &gt;= <span class="number">1</span>; i--) ifac[i - <span class="number">1</span>] = ifac[i] * i % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fac[n] * ifac[m] % p * ifac[n - m] % p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在時間複雜度 $\Theta(n)$ 內計算 $C_0^0 \sim C_n^n$。</p><div style="page-break-after:always"></div><p><strong>盧卡斯定理</strong></p><p>對於 $m,n$ 和素數 $p$， $C_m^n\equiv\prod_{i=0}^{k}C_{m_i}^{n_i}\pmod{p}$，其中 $m=m_kp^k+\cdots +m_1p+m_0,~n=n_kp^k+\cdots +n_1p+n_0$ 是 $m$ 和 $n$ 的 $p$ 進制展開。<br>$$<br>C_m^n\equiv C_{m\bmod p}^{n \bmod p}\cdot C_{\lfloor m/p\rfloor}^{\lfloor n/p\rfloor}\pmod{p}<br>$$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ll fact[maxN];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dofact</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    fact[<span class="number">0</span>] = fact[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; n; ++i) fact[i] = fact[i - <span class="number">1</span>] * i % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll inv[maxN];</span><br><span class="line"><span class="function">ll <span class="title">doInv</span><span class="params">(ll a, ll p)</span> </span>&#123;</span><br><span class="line">    a %= p;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (inv[a]) <span class="keyword">return</span> inv[a];</span><br><span class="line">    <span class="keyword">return</span> inv[a] = (p - p / a) * <span class="built_in">doInv</span>(p % a, p) % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll n, ll m, ll p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n &lt; m ? <span class="number">0</span> :</span><br><span class="line">        fact[n] * <span class="built_in">doInv</span>(fact[m], p) % p * <span class="built_in">doInv</span>(fact[n - m], p) % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">lucas</span><span class="params">(ll n, ll m, ll p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m == <span class="number">0</span> ? <span class="number">1</span> :</span><br><span class="line">        <span class="built_in">lucas</span>(n / p, m / p, p) * <span class="built_in">C</span>(n % p, m % p, p) % p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>時間複雜度 $\Theta(p)$，要求 $p$ 比較小。</p><h3 id="第十四講 - 位運算">第十四講 位運算</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-a = ~a + <span class="number">1</span>;                 <span class="comment">// 取負數</span></span><br><span class="line"><span class="keyword">if</span> (a &amp; <span class="number">1</span>);                 <span class="comment">// 判斷奇偶 正奇數或負偶數爲 1</span></span><br><span class="line">a &gt;&gt; (k<span class="number">-1</span>) &amp; <span class="number">1</span>;             <span class="comment">// 取 int 型變量的右數第 k 位</span></span><br><span class="line">a = a | (<span class="number">1</span> &lt;&lt; k<span class="number">-1</span>);            <span class="comment">// 将 int 型變量的右數第 k 位置取 1</span></span><br><span class="line">a = a &lt;&lt; k | a &gt;&gt; <span class="number">16</span>-k;        <span class="comment">// int 型變量循環左移 k 次, 設 sizeof(int)=16</span></span><br><span class="line">a = a &gt;&gt; k | a &lt;&lt; <span class="number">16</span>-k;        <span class="comment">// int 型變量循環右移 k 次, 設 sizeof(int)=16</span></span><br><span class="line"><span class="keyword">if</span> ((!(a &amp; (a - <span class="number">1</span>))) &amp;&amp; a);    <span class="comment">// 判斷一个整數是不是 2 的幂</span></span><br><span class="line">x ^= y; y ^= x; x ^= y;        <span class="comment">// 交换兩數</span></span><br><span class="line">a &amp; (-a);                    <span class="comment">// 最低位的 1 以及它後边的 0 构成的數</span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><h3 id="第十五講 - 枚舉排列">第十五講 枚舉排列</h3><p><strong>標準模板库 <code>std::next_permutation()</code></strong>，需要頭文件 <code>&lt;algorithm&gt;</code>，用於調用下一个排列，時間複雜度 $\Theta(n!)$，能解決的數据範圍在 $n\leqslant11$。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::<span class="built_in">sort</span>(a, a + n);</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// doing</span></span><br><span class="line">&#125; <span class="keyword">while</span> (std::<span class="built_in">next_permutation</span>(a, a + n);</span><br></pre></td></tr></table></figure><h3 id="第十六講 - 枚舉子集">第十六講 枚舉子集</h3><p>時間複雜度 $\Theta(2^n)$，能解決的數据範圍在 $n\leqslant25$。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> seq = <span class="number">0</span>; seq &lt; (<span class="number">1ll</span> &lt;&lt; n); ++seq) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="keyword">if</span> (seq &amp; (<span class="number">1ll</span> &lt;&lt; i)) &#123;</span><br><span class="line">            <span class="comment">// doing</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>這是「二進制法」，此外有「增量構造法」「位向量法」。</p><p><strong>分解和</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> H[maxN];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Hdfs</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k, <span class="type">int</span> Hmin, <span class="type">int</span> Hcur)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">0</span> &amp;&amp; Hcur == k) &#123;</span><br><span class="line">        <span class="comment">// doing</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = Hmin; i &lt;= n; ++i) &#123;</span><br><span class="line">        H[Hcur] = i;</span><br><span class="line">        <span class="built_in">Hdfs</span>(n - i, k, i, Hcur + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>起始調用 <code>Hdfs(n, k, 1, 0);</code></p><div style="page-break-after:always"></div><h3 id="第十七講 -STL">第十七講 <code>STL</code></h3><p><strong><code>string</code>（字符串）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line">std::string s = <span class="string">&quot;123456789&quot;</span>;                            <span class="comment">// 定義</span></span><br><span class="line"><span class="function">std::string <span class="title">s1</span><span class="params">(s)</span></span>;                 <span class="comment">// &quot;123456789&quot;</span></span><br><span class="line"><span class="function">std::string <span class="title">s2</span><span class="params">(s, <span class="number">1</span>, <span class="number">3</span>)</span></span>;        <span class="comment">// &quot;234&quot;</span></span><br><span class="line"><span class="function">std::string <span class="title">s3</span><span class="params">(<span class="string">&quot;123456789&quot;</span>, <span class="number">2</span>)</span></span>;    <span class="comment">// &quot;12&quot;</span></span><br><span class="line"><span class="function">std::string <span class="title">s4</span><span class="params">(s, <span class="number">2</span>)</span></span>;             <span class="comment">// &quot;3456789&quot;</span></span><br><span class="line"><span class="function">std::string <span class="title">s5</span><span class="params">(<span class="number">5</span>, <span class="string">&#x27;9&#x27;</span>)</span></span>;            <span class="comment">// &quot;99999&quot;</span></span><br><span class="line"></span><br><span class="line">std::cin &gt;&gt; n;</span><br><span class="line"><span class="built_in">getchar</span>(); <span class="comment">// &#x27;\n&#x27;</span></span><br><span class="line"><span class="built_in">getline</span>(std::cin, s);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a &lt; b);                                             <span class="comment">// 按字典序比較</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">size</span>(); <span class="comment">// = s.length()                                // 長度</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">push_back</span>(<span class="type">char</span>);                                         <span class="comment">// 添加</span></span><br><span class="line">s.<span class="built_in">insert</span>(s.<span class="built_in">begin</span>(), <span class="type">char</span>);     <span class="comment">// 任意位</span></span><br><span class="line">s.<span class="built_in">append</span>(str);                 <span class="comment">// 前方</span></span><br><span class="line">s = <span class="string">&#x27;Shu&#x27;</span> + s + <span class="string">&#x27;ei&#x27;</span>;        <span class="comment">// 加運算符</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">erase</span>(iterator);                                         <span class="comment">// 剔除</span></span><br><span class="line">s.<span class="built_in">erase</span>(iterator1, iterator2);</span><br><span class="line">s.<span class="built_in">erase</span>(pos, len);</span><br><span class="line"></span><br><span class="line">s.<span class="built_in">replace</span>(pos, len, str);                                 <span class="comment">// 替換</span></span><br><span class="line">s.<span class="built_in">replace</span>(pos, len, num, <span class="type">char</span>); <span class="comment">// num 個 char</span></span><br><span class="line">s.<span class="built_in">replace</span>(iterator1, iterator2, str);</span><br><span class="line"></span><br><span class="line">s.<span class="built_in">substr</span>(pos, len);                                     <span class="comment">// 截取子串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">reverse</span>(s.<span class="built_in">begin</span>(),s.<span class="built_in">end</span>());                                <span class="comment">// 翻轉</span></span><br><span class="line"><span class="built_in">transform</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), s.<span class="built_in">begin</span>(), ::tolower);     <span class="comment">// 轉換爲小寫</span></span><br><span class="line"><span class="built_in">transform</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), s.<span class="built_in">begin</span>(), ::toupper);     <span class="comment">// 轉換爲大寫</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">find</span>(str/<span class="type">char</span>, pos);                                     <span class="comment">// 查找 從 pos 開始 返回位置或 -1</span></span><br><span class="line">s.<span class="built_in">rfind</span>(str/<span class="type">char</span>, pos);    <span class="comment">// 逆向查找</span></span><br><span class="line">s.<span class="built_in">find_first_of</span>(str, pos); <span class="comment">// 查找 str 的字符</span></span><br><span class="line">s.<span class="built_in">find_first_not_of</span>(str, pos);</span><br><span class="line">s.<span class="built_in">find_last_of</span>(str, pos);</span><br><span class="line">s.<span class="built_in">find_last_not_of</span>(str, pos);</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong><code>stack</code>（棧）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line">std::stack&lt;<span class="type">int</span>&gt; s;</span><br><span class="line"></span><br><span class="line">s.<span class="built_in">top</span>(); s.<span class="built_in">push</span>(x); s.<span class="built_in">pop</span>();</span><br><span class="line">s.<span class="built_in">empty</span>(); s.<span class="built_in">size</span>(); <span class="comment">// 沒有 s.clear();</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) s.<span class="built_in">push</span>(i);</span><br><span class="line"><span class="keyword">while</span> (!s.<span class="built_in">empty</span>()) std::cout &lt;&lt; s.<span class="built_in">top</span>() &lt;&lt; <span class="string">&quot; &quot;</span>, s.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> s[<span class="number">10</span>], pos = <span class="number">0</span>; <span class="comment">// 使用數組模擬</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) s[pos++] = i;</span><br><span class="line"><span class="keyword">while</span> (pos) std::cout &lt;&lt; s[--pos];</span><br></pre></td></tr></table></figure><p><strong><code>queue</code>（隊列）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line">std::queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line">q.<span class="built_in">front</span>(); q.<span class="built_in">back</span>();</span><br><span class="line">q.<span class="built_in">push</span>(x); q.<span class="built_in">pop</span>();</span><br><span class="line">q.<span class="built_in">empty</span>(); q.<span class="built_in">size</span>(); <span class="comment">// 沒有 q.clear();</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) q.<span class="built_in">push</span>(i);</span><br><span class="line"><span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) std::cout &lt;&lt; q.<span class="built_in">front</span>() &lt;&lt; <span class="string">&quot; &quot;</span>, q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> q[<span class="number">3</span>], ff = <span class="number">0</span>, bb = <span class="number">0</span>; <span class="comment">// 使用數組模擬</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) q[bb++] = i;</span><br><span class="line"><span class="keyword">while</span> (ff &lt; bb) std::cout &lt;&lt; q[ff++] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br></pre></td></tr></table></figure><p><strong><code>priority_queue</code>（優先隊列）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::priority_queue&lt;<span class="type">int</span>&gt; q;                             <span class="comment">// 升序 優先取最大值</span></span><br><span class="line">std::priority_queue&lt;<span class="type">int</span>, vector&lt;<span class="type">int</span>&gt;, greater&lt;<span class="type">int</span>&gt;&gt; q;     <span class="comment">// 降序 優先取最小值</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> node&amp; b) <span class="type">const</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &lt; b.x; <span class="comment">// 降序 優先取最小值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">std::priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line">q.<span class="built_in">front</span>(); q.<span class="built_in">back</span>();</span><br><span class="line">q.<span class="built_in">push</span>(x); q.<span class="built_in">pop</span>();</span><br><span class="line">q.<span class="built_in">empty</span>(); q.<span class="built_in">size</span>(); <span class="comment">// 沒有 q.clear();</span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong><code>deque</code>（雙端隊列）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span> <span class="comment">// double ended queue</span></span></span><br><span class="line">std::deque&lt;<span class="type">int</span>&gt; dq;</span><br><span class="line"></span><br><span class="line">dq.<span class="built_in">push_back</span>(x); dq.<span class="built_in">push_front</span>(x);</span><br><span class="line">dq.<span class="built_in">back</span>(); dq.<span class="built_in">front</span>();</span><br><span class="line">dq.<span class="built_in">pop_back</span>(); dq.<span class="built_in">pop_front</span>();</span><br><span class="line">dq.<span class="built_in">erase</span>(iterator);</span><br><span class="line">dq.<span class="built_in">erase</span>(iterator1, iterator2);</span><br><span class="line">dq.<span class="built_in">empty</span>(); dq.<span class="built_in">size</span>(); dq.<span class="built_in">clear</span>();</span><br></pre></td></tr></table></figure><p>單調隊列：滑動區間</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">std::deque&lt;<span class="type">int</span>&gt; Q;                                 <span class="comment">// 存儲的是編號</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!Q.<span class="built_in">empty</span>() &amp;&amp; i - Q.<span class="built_in">front</span>() &gt;= m)</span><br><span class="line">        Q.<span class="built_in">pop_front</span>();                             <span class="comment">// 畢業</span></span><br><span class="line">    <span class="keyword">while</span> (!Q.<span class="built_in">empty</span>() &amp;&amp; a[Q.<span class="built_in">back</span>()] &lt; a[i])    <span class="comment">//（求區間最小值改成 &gt; 即可）</span></span><br><span class="line">        Q.<span class="built_in">pop_back</span>();                             <span class="comment">// 比新生弱的當場退役</span></span><br><span class="line">    Q.<span class="built_in">push_back</span>(i);                             <span class="comment">// 新生入隊</span></span><br><span class="line">    <span class="keyword">if</span> (i &gt;= m - <span class="number">1</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a[Q.<span class="built_in">front</span>()]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><code>set</code>（集合）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line">std::set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">std::set&lt;<span class="type">int</span>, greater&lt;<span class="type">int</span>&gt; &gt; s2; <span class="comment">// 降序</span></span><br><span class="line"></span><br><span class="line">s.<span class="built_in">insert</span>(&#123; x &#125;);    <span class="comment">// 插入元素</span></span><br><span class="line">s.<span class="built_in">begin</span>(); s.<span class="built_in">end</span>();</span><br><span class="line">s.<span class="built_in">rbegin</span>(); s.<span class="built_in">rend</span>();</span><br><span class="line">s.<span class="built_in">find</span>(key); s.<span class="built_in">count</span>(key); <span class="comment">// 前者返回迭代器 後者是 bool</span></span><br><span class="line">s.<span class="built_in">erase</span>(key); s.<span class="built_in">erase</span>(it); s.<span class="built_in">erase</span>(first,last);</span><br><span class="line">s.<span class="built_in">size</span>(); s.<span class="built_in">empty</span>(); s.<span class="built_in">clear</span>();</span><br><span class="line">s.<span class="built_in">lower_bound</span>(key); s.<span class="built_in">upper_bound</span>(key);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (std::set&lt;<span class="type">int</span>&gt;::iterator it = s.<span class="built_in">begin</span>(); it != s.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    std::cout &lt;&lt; *it &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> i : s)</span><br><span class="line">    std::cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br></pre></td></tr></table></figure><p>另有：<code>multiset</code>（元素可以重复，且元素有序）、<code>unordered_set</code>（元素無序且只能出現一次）、<code>unordered_multiset</code>（元素無序可以出現多次）</p><div style="page-break-after:always"></div><p><strong><code>map</code>（映射）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; mp;</span><br><span class="line"></span><br><span class="line">mp.<span class="built_in">insert</span>(std::<span class="built_in">pair</span>&lt;<span class="type">int</span>, <span class="type">int</span>&gt; (<span class="number">34</span>, <span class="number">27</span>));</span><br><span class="line">mp.<span class="built_in">insert</span>(std::<span class="built_in">make_pair</span>(<span class="number">34</span>, <span class="number">27</span>));</span><br><span class="line">mp.<span class="built_in">insert</span>(&#123;<span class="number">34</span>, <span class="number">27</span>&#125;);</span><br><span class="line">mp.<span class="built_in">erase</span>(it);            <span class="comment">// 刪除迭代器 並返回這個迭代器的下一個位置 </span></span><br><span class="line">mp.<span class="built_in">erase</span>(key);            <span class="comment">// 刪除键對應的迭代器 O(logN)</span></span><br><span class="line">mp.<span class="built_in">erase</span>(first,last);    <span class="comment">// 刪除左闭右开区间迭代器对应的键和值 O(last−first)</span></span><br><span class="line">mp.<span class="built_in">find</span>(key);     <span class="comment">// 返回迭代器或 mp.end()(O(logN)) 後者返回</span></span><br><span class="line">mp.<span class="built_in">count</span>(key); <span class="comment">// 返回 bool</span></span><br><span class="line">mp.<span class="built_in">begin</span>();    mp.<span class="built_in">end</span>();    <span class="comment">// 指向第一个元素 / 尾部(最后一个元素的下一个) 的迭代器</span></span><br><span class="line">mp.<span class="built_in">rbegin</span>(); mp.<span class="built_in">rend</span>();    <span class="comment">// 指向最后一个元素 / 第一个元素的前一个的逆向迭代器</span></span><br><span class="line">mp.<span class="built_in">empty</span>(); mp.<span class="built_in">size</span>(); mp.<span class="built_in">clear</span>();</span><br><span class="line">mp.<span class="built_in">lower_bound</span>(key);    <span class="comment">// 返回一个指向键值 &gt;=key 的第一个元素的迭代器</span></span><br><span class="line">mp.<span class="built_in">upper_bound</span>(key);    <span class="comment">// 返回一个指向键值 &gt;key 的第一个元素的迭代器</span></span><br><span class="line"></span><br><span class="line">std::cout &lt;&lt; mp[<span class="number">3427</span>];</span><br><span class="line">std::map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator it = mp.<span class="built_in">find</span>(<span class="number">3427</span>);</span><br><span class="line">std::cout &lt;&lt; it-&gt;first &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt;  it-&gt;second &lt;&lt; <span class="string">&#x27;\n;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">for (std::map&lt;int, int&gt;::iterator it = mp.begin(); it != mp.end(); ++it)</span></span><br><span class="line"><span class="string">    std::cout &lt;&lt; it-&gt;first &lt;&lt; &#x27;</span> <span class="string">&#x27; &lt;&lt; it-&gt;second &lt;&lt; &#x27;</span>\n<span class="string">&#x27;; // 正向遍歷</span></span><br><span class="line"><span class="string">for (auto i : mp)</span></span><br><span class="line"><span class="string">    std::cout &lt;&lt; i.first &lt;&lt; &quot; &quot; &lt;&lt; i.second &lt;&lt; &#x27;</span>\n<span class="string">&#x27;; // 正向遍歷</span></span><br><span class="line"><span class="string">for (std::map&lt;int, int&gt;::iterator it = mp.rbegin(); it != mp.rend(); ++it)</span></span><br><span class="line"><span class="string">    std::cout &lt;&lt; it-&gt;first &lt;&lt; &#x27;</span> <span class="string">&#x27; &lt;&lt; it-&gt;second &lt;&lt; &#x27;</span>\n<span class="string">&#x27;; // 逆向遍歷</span></span><br></pre></td></tr></table></figure><p><strong><code>map</code></strong>：内部用 <strong>红黑树</strong> 实现，具有 <strong>自动排序</strong> 功能。</p><ul><li><p>优点：内部用红黑树实现，内部元素具有有序性，查詢删除等操作复杂度爲 O(logN)。</p></li><li><p>缺点：占用空间，红黑树里每个节点需要保存父子节点和红黑性质等信息，空间占用较大。</p></li></ul><p><strong><code>unordered_map</code></strong>：内部用 <strong>哈希表</strong> 实现，内部元素无序杂乱。</p><ul><li>优点：查找速度快（适用于大量的查詢操作）。</li><li>缺点：建立哈希表比较耗时。</li></ul><p><strong><code>pair</code>（雙胞胎）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">std::pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; p[maxN];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; it : p) it.first = <span class="built_in">read</span>(), it.second = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it : p) std::cout &lt;&lt; it.first &lt;&lt; it.second;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) std::cout &lt;&lt; p[i].first &lt;&lt; p[i].second;</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong><code>vector</code>（向量）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n)</span></span>; <span class="comment">// 在局部区域中开 vector 数组，是在堆空间里面开的，不会爆栈 </span></span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">v</span><span class="params">(n, <span class="number">3427</span>)</span></span>;</span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; v&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">16</span>, <span class="number">31</span> &#125;;</span><br><span class="line"><span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">b</span><span class="params">(v)</span></span>;  <span class="comment">// 拷貝定義</span></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; c = v; <span class="comment">// 拷貝定義</span></span><br><span class="line"></span><br><span class="line">v.<span class="built_in">push_back</span>(x); <span class="comment">// 沒有 v.push_front(x);</span></span><br><span class="line">v.<span class="built_in">resize</span>(n, x);         <span class="comment">// 改變大小爲 n 新插入的元素賦爲 x 原有不會改變</span></span><br><span class="line">v.<span class="built_in">insert</span>(v.<span class="built_in">begin</span>() + i, x);         <span class="comment">// 插入元素 x O(N)</span></span><br><span class="line">v.<span class="built_in">front</span>(); v.<span class="built_in">back</span>();</span><br><span class="line">v.<span class="built_in">pop_back</span>(); <span class="comment">// 沒有 v.pop_front(x);</span></span><br><span class="line">v.<span class="built_in">erase</span>(first, last); <span class="comment">// 删除[first,last) 的所有元素 O(N)</span></span><br><span class="line">v.<span class="built_in">begin</span>(); v.<span class="built_in">end</span>();</span><br><span class="line">v.<span class="built_in">empty</span>(); v.<span class="built_in">size</span>(); v.<span class="built_in">clear</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); ++i) std::cout &lt;&lt; v[i] &lt;&lt; <span class="string">&quot; \n&quot;</span>[i == v.<span class="built_in">size</span>() - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); <span class="comment">// 声明一个迭代器指向 v 的初始位置</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); ++i)</span><br><span class="line">    std::cout &lt;&lt; *(it + i) &lt;&lt; <span class="string">&quot; \n&quot;</span>[i == v.<span class="built_in">size</span>() - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (std::vector&lt;<span class="type">int</span>&gt;::iterator it = v.<span class="built_in">begin</span>(); it != v.<span class="built_in">end</span>(); ++it)</span><br><span class="line">    std::cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; \n&quot;</span>[it == v.<span class="built_in">end</span>() - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; it : v) std::cin &gt;&gt; it;</span><br><span class="line">std::<span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()); <span class="comment">// 排序</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> it : v) std::cout &lt;&lt; it &lt;&lt; <span class="string">&quot; &quot;</span>; <span class="comment">// 只返回元素 不可知位置</span></span><br></pre></td></tr></table></figure><h3 id="第十八講 - 貪心">第十八講 貪心</h3><blockquote><p><em>策馬前途須努力，莫學龍鐘虛嘆息。</em></p></blockquote><div style="page-break-after:always"></div><h3 id="第十九講 - 動態規劃 -DP">第十九講 動態規劃 <code>DP</code></h3><h4 id="DP：擺花——方法數問題">DP：擺花——方法數問題</h4><p>給定 $(a_1,a_2,…,a_n)$，求 $(c_1,c_2,…,c_n)$ 的對數，其中 $0\leqslant c_i\leqslant a_i$，且 $\sum\limits_{i=1}^nc_i = m$。</p><ul><li><p><strong>思路二 記憶化搜索</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sum &gt; m) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (sum == m) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (pos &gt; n) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (vis[pos][sum]) <span class="keyword">return</span> vis[pos][sum]; <span class="comment">// 搜過了就返回</span></span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= a[pos]; ++i) ans = (ans + <span class="built_in">dfs</span>(pos<span class="number">+1</span>, sum+i)) % MOD;</span><br><span class="line">    <span class="keyword">return</span> vis[pos][sum] = ans; <span class="comment">// 記錄當前狀態的結果</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>時間複雜度 $\Theta(nma_i)$。</p></li><li><p><strong>思路三 動態規劃</strong></p><blockquote><p><em><strong>記憶化搜索都可以轉成動態規劃，但是動態規劃卻不一定能轉成記憶化搜索。</strong></em></p></blockquote><p>狀態 $f(i, j)$ 表示前 $i$ 个數總和爲 $j$ 的方案數，則狀轉方程 $f(i, j) = \sum\limits_{k=0}^{a_{i}}f(i-1,j-k)$，其中，$k$ 是枚舉當前第 $i$ 个數的取值。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> f[maxN][maxN];</span><br><span class="line">f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; ++j)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= <span class="built_in">min</span>(j, a[i]); ++k)</span><br><span class="line">            f[i][j] = (f[i][j] + f[i<span class="number">-1</span>][j-k]) % MOD;</span><br></pre></td></tr></table></figure><p>所求即是 <code>f[n][m]</code>。時間複雜度 $\Theta(nma_i)$，空間複雜度 $\Theta(nm)$。</p></li><li><p><strong>思路四 滾動數組</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> f[<span class="number">2</span>][maxN], op = <span class="number">0</span>;</span><br><span class="line">f[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">    op ^= <span class="number">1</span>; <span class="comment">// 滾動 0101</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; ++j) &#123;</span><br><span class="line">        f[op][j] = <span class="number">0</span>; <span class="comment">// 清空（初始化）</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt;= <span class="built_in">min</span>(j, a[i]); ++k)</span><br><span class="line">            f[op][j] = (f[op][j] + f[op^<span class="number">1</span>][j-k]) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>所求即是 <code>f[n][m]</code>。時間複雜度 $\Theta(nma_i)$，空間複雜度 $\Theta(m)$。</p></li></ul><div style="page-break-after:always"></div><ul><li><p><strong>思路五 一維動態規劃（01 背包）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> f[maxn];</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; --j)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= <span class="built_in">min</span>(a[i], j); ++k)</span><br><span class="line">            f[j] = (f[j] + f[j-k]) % MOD;</span><br></pre></td></tr></table></figure><p>所求即是 <code>f[m]</code>。時間複雜度 $\Theta(nma_i)$。</p></li><li><p><strong>思路六 前缀和优化背包</strong></p><p>继续观察方法五的代码，时间复杂度是 $\Theta(n^3)$ 级别的。与背包有一些差别的是这一句：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= <span class="built_in">min</span>(a[i], j); ++k)</span><br><span class="line">    f[j] = (f[j] + f[j-k]) % MOD;</span><br></pre></td></tr></table></figure><p>然而，这一句的作用只不过是将连续的一段 <code>f[j-a[i]]</code> 到 <code>f[j-1]</code> 累加起来而已。因此，可以用前缀和将这个操作优化（众所周知，前缀和的作用就是 $\Theta(1)$ 求一段区间的和）。</p><p>时间复杂度：$\Theta(nm)$</p><p>顺便卡到了次优解。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> f[maxN], sum[maxN];</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m; ++i) sum[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">1</span>; --j)</span><br><span class="line">        f[j] = (f[j] + sum[j<span class="number">-1</span>] - sum[j - <span class="built_in">min</span>(a[i], j) - <span class="number">1</span>] + MOD) % MOD;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        sum[j] = (sum[j<span class="number">-1</span>] + f[j]) % MOD;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>提示：上面的程序在计算 $f[j]$ 的时候有可能会出现数组越界的情况，但爲了代码美观容易理解，没有特判。这一点需要注意，考场上不慎就会抱灵。</p><p>下面是加上了特判的代码：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> f[maxN], sum[maxN];</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= m; ++i) sum[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">1</span>; --j)</span><br><span class="line">        <span class="type">int</span> t = j - <span class="built_in">min</span>(a[i], j) - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (t &lt; <span class="number">0</span>) f[j] = (f[j] + sum[j<span class="number">-1</span>]) % MOD;</span><br><span class="line">        <span class="keyword">else</span> f[j] = (f[j] + sum[j<span class="number">-1</span>] - sum[t] + MOD) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; ++j) sum[j] = (sum[j<span class="number">-1</span>] + f[j]) % MOD;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><div style="page-break-after:always"></div><h4 id="DP：最長上升子序列">DP：最長上升子序列</h4><ul><li><p><strong>方法一</strong></p><p>狀態：$dp_i$ 表示以 $a_i$ 結尾的最長上升子序列的長度；</p><p>狀轉方程：$dp_i=\min\limits_{a_j&lt;a_i}\big(dp_j+1\big)$；</p><p>時間複雜度：$\Theta(n^2)$。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    dp[i] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; ++j) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[j] &lt; a[i]) dp[i] = <span class="built_in">max</span>(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ans = <span class="built_in">max</span>(ans, dp[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans);</span><br></pre></td></tr></table></figure></li><li><p><strong>方法二</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; dp; dp.<span class="built_in">push_back</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (dp.<span class="built_in">back</span>() &lt; a[i]) dp.<span class="built_in">push_back</span>(a[i]);</span><br><span class="line">    <span class="keyword">else</span> *std::<span class="built_in">lower_bound</span>(dp.<span class="built_in">begin</span>(), dp.<span class="built_in">end</span>(), a[i]) = a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, dp.<span class="built_in">size</span>() - <span class="number">1</span>);</span><br></pre></td></tr></table></figure></li><li><p>由 $\rm Dilworth$ 定理，要求不上升的子序列的最小个數，只需要反過來求最長上升子序列的長度。</p></li></ul><div style="page-break-after:always"></div><h4 id="DP：背包問題">DP：背包問題</h4><p><strong>01 背包</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> V = <span class="built_in">read</span>(), n = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) v[i] = <span class="built_in">read</span>(), w[i] = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) <span class="comment">// 物品</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = V; j &gt;= v[i]; --j) <span class="comment">// 空間</span></span><br><span class="line">        dp[j] = <span class="built_in">max</span>(dp[j], dp[j - v[i]] + w[i]);</span><br><span class="line"><span class="built_in">print</span>(dp[V]);</span><br></pre></td></tr></table></figure><p>記憶化搜索：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> V)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (mem[pos][V] != <span class="number">-1</span>) <span class="keyword">return</span> mem[pos][V];</span><br><span class="line">    <span class="keyword">if</span> (pos == n + <span class="number">1</span>) <span class="keyword">return</span> mem[pos][V] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (V &gt;= v[pos]) <span class="keyword">return</span> mem[pos][V] = <span class="built_in">max</span>(<span class="built_in">dfs</span>(pos + <span class="number">1</span>, V), <span class="built_in">dfs</span>(pos + <span class="number">1</span>, V - v[pos]) + w[pos]);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> mem[pos][V] = <span class="built_in">dfs</span>(pos + <span class="number">1</span>, V);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eachT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(mem, <span class="number">-1</span>, <span class="keyword">sizeof</span> mem);</span><br><span class="line">    <span class="type">int</span> V = <span class="built_in">read</span>(), n = <span class="built_in">read</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) v[i] = <span class="built_in">read</span>(), w[i] = <span class="built_in">read</span>();</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">dfs</span>(<span class="number">1</span>, V));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>二維費用背包</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n = <span class="built_in">read</span>(), V = <span class="built_in">read</span>(), M = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) v[i] = <span class="built_in">read</span>(), w[i] = <span class="built_in">read</span>(), m[i] = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) <span class="comment">// 物品</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = V; j &gt;= v[i]; --j) <span class="comment">// 空間</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = M; k &gt;= m[i]; --k) <span class="comment">// 重量</span></span><br><span class="line">            dp[j][k] = <span class="built_in">max</span>(dp[j][k], dp[j - v[i]][k - m[i]] + w[i]);</span><br><span class="line"><span class="built_in">print</span>(dp[V][M]);</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong>分組背包</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> V = <span class="built_in">read</span>(), n = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="built_in">read</span>(), y = <span class="built_in">read</span>(), z = <span class="built_in">read</span>();</span><br><span class="line">    v[z].<span class="built_in">push_back</span>(x);</span><br><span class="line">    w[z].<span class="built_in">push_back</span>(y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) <span class="comment">// 物品</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = V; j &gt;= <span class="number">1</span>; --j) <span class="comment">// 空間</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; v[i].<span class="built_in">size</span>(); ++k)</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= v[i][k]) dp[j] = <span class="built_in">max</span>(dp[j], dp[j - v[i][k]] + w[i][k]);</span><br><span class="line"><span class="built_in">print</span>(dp[V]);</span><br></pre></td></tr></table></figure><p><strong>混合背包（完全背包 || 多重背包）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> V = <span class="built_in">read</span>(), N = <span class="built_in">read</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) v[i] = <span class="built_in">read</span>(), w[i] = <span class="built_in">read</span>(), n[i] = <span class="built_in">read</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (n[i] &gt; <span class="number">1</span>) &#123; <span class="comment">// 多重背包</span></span><br><span class="line">        <span class="type">int</span> num = <span class="built_in">min</span>(n[i], V / v[i]); <span class="comment">// 可以放入的最大个數</span></span><br><span class="line">        <span class="type">int</span> k = <span class="number">1</span>; <span class="comment">// 當前拆分个數 放入 k 个物品</span></span><br><span class="line">        <span class="keyword">while</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            k = <span class="built_in">min</span>(k, num);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = V; j &gt;= k * v[i]; --j)</span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j - k * v[i]] + k * w[i]);</span><br><span class="line">            num -= k;</span><br><span class="line">            k &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n[i] == <span class="number">1</span>) &#123; <span class="comment">// 普通 01 背包</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = V; j &gt;= v[i]; --j)</span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - v[i]] + w[i]);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">// 完全背包</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = v[i]; j &lt;= V; ++j)</span><br><span class="line">            dp[j] = <span class="built_in">max</span>(dp[j], dp[j - v[i]] + w[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(dp[V]);</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><h3 id="第二十講 - 快速冪">第二十講　快速冪</h3><p><strong>快速冪</strong><br>$$<br>a_n =</p><p>\begin{cases}</p><p>a^{n-1}\cdot a, &amp; \text{if} n \text {is odd} \</p><p>a^{\frac{n}{2}}\cdot a^{\frac{n}{2}}, &amp;\text{if} n \text {is even but not 0}\</p><p>1,&amp;\text{if} n=0</p><p>\end{cases}<br>$$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">qpow</span><span class="params">(ll a, ll n)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>) ans = ans * a % MOD;</span><br><span class="line">        a = a * a % MOD;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125; <span class="comment">// return a^n</span></span><br></pre></td></tr></table></figure><p><strong>快速乘</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">qmcl</span><span class="params">(ll a, ll b)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (b) &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ans = (ans + a) % MOD;</span><br><span class="line">        a = (a + a) % MOD;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125; <span class="comment">// return a*b</span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong>矩陣快速冪</strong></p><p>求斐波那契數列第 $n$ 項 $F_n$。</p><p>設 $\mathbf{A}=\begin{bmatrix}0 &amp;1\ 1 &amp; 1\end{bmatrix}$，有 $\mathbf{A}\begin{bmatrix}F_n\ F_{n+1}\end{bmatrix} = \begin{bmatrix}F_{n+1}\ F_n+F_{n+1}\end{bmatrix}=\begin{bmatrix}F_{n+1}\ F_{n+2}\end{bmatrix}$，于是 $\begin{bmatrix}F_n\ F_{n+1}\end{bmatrix}=\mathbf{A}^{n-1}\begin{bmatrix}1\ 1\end{bmatrix}$。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">matrix</span> &#123;</span><br><span class="line">    ll a1, a2, b1, b2;</span><br><span class="line">    <span class="built_in">matrix</span>(ll a1, ll a2, ll b1, ll b2) : <span class="built_in">a1</span>(a1), <span class="built_in">a2</span>(a2), <span class="built_in">b1</span>(b1), <span class="built_in">b2</span>(b2) &#123;&#125;</span><br><span class="line">    matrix <span class="keyword">operator</span>*(<span class="type">const</span> matrix &amp;y) &#123;</span><br><span class="line">        <span class="function">matrix <span class="title">ans</span><span class="params">((a1 * y.a1 + a2 * y.b1) % MOD,</span></span></span><br><span class="line"><span class="params"><span class="function">                   (a1 * y.a2 + a2 * y.b2) % MOD,</span></span></span><br><span class="line"><span class="params"><span class="function">                   (b1 * y.a1 + b2 * y.b1) % MOD,</span></span></span><br><span class="line"><span class="params"><span class="function">                   (b1 * y.a2 + b2 * y.b2) % MOD)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">matrix <span class="title">qpow</span><span class="params">(matrix a, ll n)</span> </span>&#123;</span><br><span class="line">    <span class="function">matrix <span class="title">ans</span><span class="params">(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span></span>; <span class="comment">// 單位矩阵</span></span><br><span class="line">    <span class="keyword">while</span> (n) &#123; <span class="keyword">if</span> (n &amp; <span class="number">1</span>) ans = ans * a; a = a * a; n &gt;&gt;= <span class="number">1</span>; &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">matrix <span class="title">M</span><span class="params">(<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span></span>;             <span class="comment">// 廣義：M(0, 1, q, p);</span></span><br><span class="line">matrix ans = <span class="built_in">qpow</span>(M, n - <span class="number">1</span>);</span><br><span class="line"><span class="built_in">print</span>((ans.a1 + ans.a2) % MOD);    <span class="comment">// 廣義：((a1 * ans.a1 + a2 * ans.a2) % MOD)</span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><h3 id="第二十一講 -DFS">第二十一講　<code>DFS</code></h3><h4 id="迷宮問題">迷宮問題</h4><p>數路徑數量</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> maxN = <span class="number">18</span>;</span><br><span class="line"><span class="type">int</span> map[maxN][maxN];</span><br><span class="line"><span class="type">int</span> ansx[maxN * maxN], ansy[maxN * maxN];</span><br><span class="line"><span class="type">int</span> m, n;</span><br><span class="line"><span class="type">int</span> beginx, beginy, endx, endy;</span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> dx[] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="type">int</span> dy[] = &#123; <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span> &#125;; <span class="comment">// 方向</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> endx, <span class="type">int</span> endy)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">1</span> || y &lt; <span class="number">1</span> || x &gt; m || y &gt; n || map[x][y] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="comment">// 越界或是牆</span></span><br><span class="line">    <span class="keyword">if</span> (x == endx &amp;&amp; y == endy) &#123;</span><br><span class="line">        ++cnt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; p; ++i) <span class="built_in">printf</span>(<span class="string">&quot;(%d,%d)-&gt;&quot;</span>, ansx[i], ansy[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(%d,%d)\n&quot;</span>, endx, endy);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="comment">// 終點</span></span><br><span class="line">    ansx[pos] = x; ansy[pos] = y; <span class="comment">// 記錄答案</span></span><br><span class="line">    map[x][y] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</span><br><span class="line">        <span class="built_in">dfs</span>(pos + <span class="number">1</span>, x + dx[i], y + dy[i], endx, endy);</span><br><span class="line">    map[x][y] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eachT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    m = <span class="built_in">read</span>(), n = <span class="built_in">read</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) map[i][j] = <span class="built_in">read</span>();</span><br><span class="line">    beginx = <span class="built_in">read</span>(), beginy = <span class="built_in">read</span>(), endx = <span class="built_in">read</span>(), endy = <span class="built_in">read</span>();</span><br><span class="line">    <span class="keyword">if</span> (map[endx][endy] == <span class="number">0</span>) &#123; <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>); <span class="keyword">return</span>; &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>, beginx, beginy, endx, endy);</span><br><span class="line">    <span class="keyword">if</span> (!cnt) <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>); <span class="comment">// 無解</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>僅判斷（啓用 <code>vis[]</code> 數組）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> maxN = <span class="number">18</span>;</span><br><span class="line"><span class="type">char</span> map[maxN][maxN];</span><br><span class="line"><span class="type">bool</span> vis[maxN][maxN];</span><br><span class="line"><span class="type">int</span> m, n;</span><br><span class="line"><span class="type">bool</span> flag = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> dx[] = &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="type">int</span> dy[] = &#123; <span class="number">1</span>, <span class="number">0</span>,<span class="number">-1</span>, <span class="number">0</span> &#125;; <span class="comment">// 方向</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (flag) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (map[x][y] == <span class="string">&#x27;#&#x27;</span> || vis[x][y]) <span class="keyword">return</span>; <span class="comment">// 是牆或走過了</span></span><br><span class="line">    <span class="keyword">if</span> (x == m &amp;&amp; y == n) &#123; flag = <span class="number">1</span>; <span class="keyword">return</span>; &#125; <span class="comment">// 有解</span></span><br><span class="line">    vis[x][y] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</span><br><span class="line">        <span class="built_in">dfs</span>(x + dx[i], y + dy[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eachT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d\n&quot;</span>, &amp;m, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n + <span class="number">1</span>; ++j) <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;map[i][j]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) map[i][<span class="number">0</span>] = map[i][n + <span class="number">1</span>] = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) map[<span class="number">0</span>][j] = map[m + <span class="number">1</span>][j] = <span class="string">&#x27;#&#x27;</span>; <span class="comment">// 邊界</span></span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, flag ? <span class="string">&quot;Yes&quot;</span> : <span class="string">&quot;No&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><h3 id="第二十二講 -BFS">第二十二講　<code>BFS</code></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> std::pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; pii;</span><br><span class="line"><span class="type">const</span> ll maxN = <span class="number">1e3</span> + <span class="number">7</span>, N = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> map[maxN][maxN];            <span class="comment">// 繪製地圖</span></span><br><span class="line"><span class="type">bool</span> vis[maxN][maxN];            <span class="comment">// 標記是否走過</span></span><br><span class="line"><span class="type">int</span> steps[maxN][maxN];            <span class="comment">// 記錄走到某一点的步數</span></span><br><span class="line">pii ans[maxN][maxN];            <span class="comment">// 記錄最短路徑</span></span><br><span class="line">std::queue&lt;pii&gt; path;            <span class="comment">// 存儲當前處理的值</span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dx[N] = &#123; <span class="number">0</span>, <span class="number">-1</span>,  <span class="number">0</span>,  <span class="number">1</span> &#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dy[N] = &#123; <span class="number">1</span>,  <span class="number">0</span>, <span class="number">-1</span>,  <span class="number">0</span> &#125;; <span class="comment">// 方向</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">0</span> &amp;&amp; y == <span class="number">0</span>) <span class="keyword">return</span>; <span class="comment">// 已經輸出到起点</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(%d, %d)\n&quot;</span>, x - <span class="number">1</span>, y - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">print</span>(ans[x][y].first, ans[x][y].second);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> r, <span class="type">int</span> c, <span class="type">int</span> x0, <span class="type">int</span> y0, <span class="type">int</span> xn, <span class="type">int</span> yn)</span> </span>&#123;</span><br><span class="line">    path.<span class="built_in">push</span>(&#123; x0, y0 &#125;);        <span class="comment">// 起始点 BFS 入隊</span></span><br><span class="line">    vis[x0][y0] = <span class="number">1</span>;            <span class="comment">// 起始点走過</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!path.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="comment">// 當前目標 BFS 出隊</span></span><br><span class="line">        pii t = path.<span class="built_in">front</span>();</span><br><span class="line">        path.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 到達終点 輸出</span></span><br><span class="line">        <span class="keyword">if</span> (t.first == xn &amp;&amp; t.second == yn) &#123;</span><br><span class="line">            <span class="built_in">print</span>(xn, yn);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 處理當前目標</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">            <span class="type">int</span> x = t.first + dx[i];                <span class="comment">// 下一步的坐標</span></span><br><span class="line">            <span class="type">int</span> y = t.second + dy[i];</span><br><span class="line">            <span class="keyword">if</span> (!vis[x][y] &amp;&amp; !map[x][y]) &#123;            <span class="comment">// 如果沒走過</span></span><br><span class="line">                vis[x][y] = <span class="number">1</span>;                        <span class="comment">// 走過了</span></span><br><span class="line">                path.<span class="built_in">push</span>(&#123; x,y &#125;);                    <span class="comment">// BFS 入隊</span></span><br><span class="line">                steps[x][y] = steps[t.first][t.second] + <span class="number">1</span>;                <span class="comment">// 記錄步數</span></span><br><span class="line">                ans[x][y].first = t.first, ans[x][y].second = t.second;    <span class="comment">// 記錄最短路徑</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 輸出走到每一格点的最小步數</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%-5d&quot;</span>, steps[i][j]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 輸出到終点的最小步數</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, steps[xn][yn]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">eachT</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 輸入</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; ++j) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;map[i][j]);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 邊界處理</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) map[i][<span class="number">0</span>] = map[i][m + <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= m; ++j) map[<span class="number">0</span>][j] = map[n + <span class="number">1</span>][j] = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// BFS 的起点</span></span><br><span class="line">    <span class="built_in">bfs</span>(n, m, n, m, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">eachT</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><h3 id="第二十三講 - 數論">第二十三講　數論</h3><p><strong>取餘快讀</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">readmod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> c = <span class="built_in">getchar</span>(), x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (c &gt; <span class="number">57</span> || c &lt; <span class="number">48</span> &amp;&amp; c != EOF) c = <span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span> (c &lt;= <span class="number">57</span> &amp;&amp; c &gt;= <span class="number">48</span>) &#123;</span><br><span class="line">        x = ((x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + c - <span class="number">48</span>) % MOD;</span><br><span class="line">        c = <span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125; <span class="comment">// 使用：int a = readmod();</span></span><br></pre></td></tr></table></figure><p><strong>歐幾里得</strong>（最大公約數）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">gcd</span><span class="params">(ll _a, ll _b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> _b == <span class="number">0</span> ? _a : <span class="built_in">gcd</span>(_b, _a % _b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>解同餘方程</strong> $\boldsymbol{ax \equiv c \pmod b\iff ax + by = c}$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">exgcd</span><span class="params">(ll a, ll b, ll&amp; x, ll&amp; y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) &#123; x = <span class="number">1</span>; y = <span class="number">0</span>; <span class="keyword">return</span> a; &#125;</span><br><span class="line">    ll d = <span class="built_in">exgcd</span>(b, a % b, y, x);</span><br><span class="line">    y -= (a / b) * x;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ll <span class="title">liEq</span><span class="params">(ll a, ll b, ll c)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// a x + b y = c</span></span><br><span class="line">    ll d = <span class="built_in">gcd</span>(a, b);</span><br><span class="line">    <span class="keyword">if</span> (c % d) <span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">// 無解</span></span><br><span class="line">    ll x, y;</span><br><span class="line">    a /= d, b /= d, c /= d;</span><br><span class="line">    <span class="built_in">exgcd</span>(a, b, x, y);</span><br><span class="line">    <span class="keyword">return</span> (x * c % b) + b * d) % b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 同餘方程 ax == c (mod b) 的最小正整數解</span></span><br><span class="line"><span class="comment">// 即解不定方程 ax + by = c</span></span><br><span class="line"><span class="comment">// 調用 liEq(a,b,c);</span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong>一個數的數論倒數</strong> $\boldsymbol{a^{-1}\pmod p}$</p><p>首先注意 $a$ 必須與 $p$ 互素，否則數論倒數不存在。</p><p>若 $p$ 是素數：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">inv</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">qpow</span>(n, p - <span class="number">2</span>);</span><br><span class="line">&#125; <span class="comment">// a_&#123;-1&#125; mod p (p 是素數)</span></span><br></pre></td></tr></table></figure><p>一般情況：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">inv</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">liEq</span>(a, p, <span class="number">1</span>);</span><br><span class="line">&#125; <span class="comment">// a_&#123;-1&#125; mod p (p 無限制)</span></span><br></pre></td></tr></table></figure><p><strong>一系列數的數論倒數</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ll inv[maxN];</span><br><span class="line"><span class="function">ll <span class="title">doInv</span><span class="params">(ll a, ll p)</span> </span>&#123;</span><br><span class="line">    a %= p;</span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">// 不存在</span></span><br><span class="line">    <span class="keyword">if</span> (a == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (inv[a]) <span class="keyword">return</span> inv[a];</span><br><span class="line">    <span class="keyword">return</span> inv[a] = (p - p / a) * <span class="built_in">doInv</span>(p % a, p) % p;</span><br><span class="line">&#125; <span class="comment">// a_&#123;-1&#125; mod p (p 無限制)</span></span><br></pre></td></tr></table></figure><p>從 $1$ 到 $n$ 的連續自然數的數論倒數（$n&lt;p\wedge p$ 是素數）：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ll inv[maxN];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">doinv</span><span class="params">(ll n, <span class="type">int</span> p)</span> </span>&#123;</span><br><span class="line">    inv[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        inv[i] = (p - p / i) * inv[p % i] % p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><p><strong>素數篩（歐拉篩）</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> isntPrime[maxN];</span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; prime;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">doPrime</span><span class="params">(<span class="type">int</span> mx)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= mx; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isntPrime[i]) prime.<span class="built_in">push_back</span>(i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> p : prime) &#123;</span><br><span class="line">            <span class="keyword">if</span> (p * i &gt; mx) <span class="keyword">break</span>;</span><br><span class="line">            isntPrime[p * i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % p == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    isntPrime[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">doPrime</span>(); <span class="comment">// 預處理</span></span><br><span class="line"><span class="keyword">if</span> (!isntPrime[n]) &#123;    </span><br><span class="line">    <span class="comment">// n 是素數</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p><strong>計算約數個數 &amp; 約數之和</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">numOfDivisors</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i * i &lt;= x; ++i) &#123;</span><br><span class="line">        <span class="type">int</span> r = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x % i == <span class="number">0</span>) ++r, x /= i;</span><br><span class="line">        <span class="keyword">if</span> (r) ans *= r + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">1</span>) ans *= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125; <span class="comment">// x 的約數個數</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sumOfDivisors</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// x 的約數之和</span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><h3 id="第二十四講 - 高精度">第二十四講　高精度</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Bignum &#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">data</span> &#123;</span><br><span class="line">        std::vector&lt;<span class="type">int</span>&gt; num;</span><br><span class="line">        <span class="type">bool</span> op;</span><br><span class="line">        <span class="built_in">data</span>(<span class="type">int</span> sizeT = <span class="number">0</span>) &#123;</span><br><span class="line">            num.<span class="built_in">resize</span>(sizeT);</span><br><span class="line">            op = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">length</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> num.<span class="built_in">size</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">clearbackzero</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">length</span>() &gt; <span class="number">1</span> &amp;&amp; num[<span class="built_in">length</span>() - <span class="number">1</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">                num.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">length</span>() == <span class="number">1</span> &amp;&amp; num[<span class="number">0</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">                op = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">is_zero</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="built_in">clearbackzero</span>();</span><br><span class="line">            <span class="keyword">if</span> (!op) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">length</span>() &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (num[<span class="number">0</span>]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            num.<span class="built_in">clear</span>();</span><br><span class="line">            std::string s1;</span><br><span class="line">            std::cin &gt;&gt; s1;</span><br><span class="line">            <span class="keyword">if</span> (s1[<span class="number">0</span>] == <span class="string">&#x27;-&#x27;</span>) op = <span class="literal">false</span>, s<span class="number">1.</span><span class="built_in">erase</span>(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = s<span class="number">1.</span><span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) num.<span class="built_in">push_back</span>(s1[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (op == <span class="literal">false</span>) <span class="built_in">printf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">            <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i] != <span class="number">0</span> || flag == <span class="literal">true</span>) &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, num[i]);</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag == <span class="literal">false</span>) <span class="built_in">printf</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">intws</span><span class="params">(<span class="type">long</span> <span class="type">long</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (x) x /= <span class="number">10</span>, t++;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">data <span class="title">numtodata</span><span class="params">(<span class="type">long</span> <span class="type">long</span> a)</span> </span>&#123;</span><br><span class="line">        <span class="function">data <span class="title">ans</span><span class="params">(intws(a))</span></span>;</span><br><span class="line">        <span class="keyword">if</span> (a &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            a = -a, ans.op = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="number">0</span>) &#123;</span><br><span class="line">            ans.<span class="built_in">clearbackzero</span>();</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ans.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            ans.num[i] = a % <span class="number">10</span>, a /= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&gt;(data a, data b) &#123;</span><br><span class="line">        a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        b.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">true</span> &amp;&amp; b.op == <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.<span class="built_in">length</span>() &gt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &gt; b.num[i]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &lt; b.num[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">true</span> &amp;&amp; b.op == <span class="literal">false</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">false</span> &amp;&amp; b.op == <span class="literal">true</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">false</span> &amp;&amp; b.op == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.<span class="built_in">length</span>() &gt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &gt; b.num[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &lt; b.num[i]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(data a, data b) &#123;</span><br><span class="line">        a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        b.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">true</span> &amp;&amp; b.op == <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.<span class="built_in">length</span>() &gt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &gt; b.num[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &lt; b.num[i]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">true</span> &amp;&amp; b.op == <span class="literal">false</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">false</span> &amp;&amp; b.op == <span class="literal">true</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">false</span> &amp;&amp; b.op == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.<span class="built_in">length</span>() &gt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a.<span class="built_in">length</span>() &lt; b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &gt; b.num[i]) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span> (a.num[i] &lt; b.num[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>==(data a, data b) &#123;</span><br><span class="line">        a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        b.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">if</span> (a.op != b.op) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (a.<span class="built_in">length</span>() != b.<span class="built_in">length</span>()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i++)</span><br><span class="line">            <span class="keyword">if</span> (a.num[i] != b.num[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&gt;=(data a, data b) &#123;</span><br><span class="line">        <span class="built_in">return</span> (a &gt; b) || (a == b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;=(data a, data b) &#123;</span><br><span class="line">        <span class="built_in">return</span> (a &lt; b) || (a == b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>!=(data a, data b) &#123;</span><br><span class="line">        <span class="keyword">return</span> !(a == b);</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>-(data a) &#123;</span><br><span class="line">        a.op = !a.op;</span><br><span class="line">        <span class="keyword">if</span> ((a.<span class="built_in">length</span>()) == <span class="number">1</span> &amp;&amp; a.num[<span class="number">0</span>] == <span class="number">0</span>) a.op = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">data <span class="title">abs</span><span class="params">(data a)</span> </span>&#123;</span><br><span class="line">        a.op = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>+(data a, data b) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">abs</span>(a) &lt; <span class="built_in">abs</span>(b)) &#123;</span><br><span class="line">            <span class="keyword">return</span> b + a;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">data <span class="title">ANS</span><span class="params">(a.length() + <span class="number">1</span>)</span></span>;</span><br><span class="line">        ANS.op = a.op;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">true</span> &amp;&amp; b.op == <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ANS.<span class="built_in">length</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                ANS.num[i] += a.num[i] + ((i &lt; b.<span class="built_in">length</span>()) ? (b.num[i]) : <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span> (ANS.num[i] &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">                    ANS.num[i + <span class="number">1</span>] += <span class="number">1</span>;</span><br><span class="line">                    ANS.num[i] -= <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">true</span> &amp;&amp; b.op == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ANS.<span class="built_in">length</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                ANS.num[i] += a.num[i] - ((i &lt; b.<span class="built_in">length</span>()) ? (b.num[i]) : <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span> (ANS.num[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    ANS.num[i + <span class="number">1</span>] -= <span class="number">1</span>;</span><br><span class="line">                    ANS.num[i] += <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">false</span> &amp;&amp; b.op == <span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ANS.<span class="built_in">length</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                ANS.num[i] += a.num[i] - ((i &lt; b.<span class="built_in">length</span>()) ? (b.num[i]) : <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span> (ANS.num[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    ANS.num[i + <span class="number">1</span>] -= <span class="number">1</span>;</span><br><span class="line">                    ANS.num[i] += <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a.op == <span class="literal">false</span> &amp;&amp; b.op == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ANS.<span class="built_in">length</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">                ANS.num[i] += a.num[i] + ((i &lt; b.<span class="built_in">length</span>()) ? (b.num[i]) : <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">if</span> (ANS.num[i] &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">                    ANS.num[i + <span class="number">1</span>] += <span class="number">1</span>;</span><br><span class="line">                    ANS.num[i] -= <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ANS.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> ANS;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>-(data a, data b) &#123;</span><br><span class="line">        <span class="keyword">return</span> a + (-b);</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>*(data a, data b) &#123;</span><br><span class="line">        <span class="function">data <span class="title">ans</span><span class="params">(a.length() + b.length())</span></span>;</span><br><span class="line">        ans.op = !(a.op ^ b.op);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; b.<span class="built_in">length</span>(); j++)</span><br><span class="line">                ans.num[i + j] += a.num[i] * b.num[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ans.<span class="built_in">length</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            ans.num[i + <span class="number">1</span>] += ans.num[i] / <span class="number">10</span>;</span><br><span class="line">            ans.num[i] %= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>*(data a, <span class="type">int</span> b) &#123;</span><br><span class="line">        <span class="function">data <span class="title">ans</span><span class="params">(a.length() + <span class="number">20</span>)</span></span>;</span><br><span class="line">        ans.op = !(a.op ^ (b &gt; <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i++) &#123;</span><br><span class="line">            ans.num[i] += a.num[i] * b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ans.<span class="built_in">length</span>() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            ans.num[i + <span class="number">1</span>] += ans.num[i] / <span class="number">10</span>;</span><br><span class="line">            ans.num[i] %= <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>*(<span class="type">int</span> a, data b) &#123;</span><br><span class="line">        <span class="keyword">return</span> b * a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">data <span class="title">numcopy</span><span class="params">(data a, <span class="type">int</span> l)</span> </span>&#123;</span><br><span class="line">        <span class="function">data <span class="title">b</span><span class="params">(a.length() + l)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; a.<span class="built_in">length</span>(); i++)</span><br><span class="line">            b.num[i + l] = a.num[i];</span><br><span class="line">        b.op = a.op;</span><br><span class="line">        b.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>/(data a, data b) &#123;</span><br><span class="line">        <span class="function">data <span class="title">c</span><span class="params">(a.length())</span></span>;</span><br><span class="line">        <span class="type">bool</span> beginop = a.op;</span><br><span class="line">        c.op = !(a.op ^ b.op);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            data t = <span class="built_in">numcopy</span>(b, i);</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">abs</span>(a) &gt;= <span class="built_in">abs</span>(t)) &#123;</span><br><span class="line">                c.num[i]++;</span><br><span class="line">                <span class="keyword">if</span> (a.op == t.op) a = a - t;</span><br><span class="line">                <span class="keyword">else</span> a = a + t;</span><br><span class="line">                a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        c.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>/(data a, <span class="type">int</span> b) &#123;</span><br><span class="line">        <span class="function">data <span class="title">c</span><span class="params">(a.length())</span></span>;</span><br><span class="line">        <span class="type">bool</span> beginop = a.op;</span><br><span class="line">        c.op = !(a.op ^ (b &gt; <span class="number">0</span>));</span><br><span class="line">        <span class="type">int</span> r = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            r = r * <span class="number">10</span> + a.num[i];</span><br><span class="line">            c.num[i] = r / b;</span><br><span class="line">            r %= b;</span><br><span class="line">        &#125;</span><br><span class="line">        c.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>%(data a, data b) &#123;</span><br><span class="line">        <span class="type">bool</span> beginop = a.op;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = a.<span class="built_in">length</span>() - b.<span class="built_in">length</span>(); i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            data t = <span class="built_in">numcopy</span>(b, i);</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">abs</span>(a) &gt;= <span class="built_in">abs</span>(t)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (a.op == t.op) a = a - t;</span><br><span class="line">                <span class="keyword">else</span> a = a + t;</span><br><span class="line">                a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="keyword">operator</span>%(data a, <span class="type">int</span> b) &#123;</span><br><span class="line">        <span class="function">data <span class="title">c</span><span class="params">(a.length())</span></span>;</span><br><span class="line">        <span class="type">bool</span> beginop = a.op;</span><br><span class="line">        c.op = !(a.op ^ (b &gt; <span class="number">0</span>));</span><br><span class="line">        <span class="type">int</span> r = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = c.<span class="built_in">length</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            r = r * <span class="number">10</span> + a.num[i];</span><br><span class="line">            c.num[i] = r / b;</span><br><span class="line">            r %= b;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">    data <span class="keyword">operator</span>^(data a, <span class="type">int</span> b) &#123;</span><br><span class="line">        <span class="function">data <span class="title">ans</span><span class="params">(a.length() * b)</span></span>;</span><br><span class="line">        ans = <span class="built_in">numtodata</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">while</span> (b != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (b &amp; <span class="number">1</span>) ans = ans * a;</span><br><span class="line">            a = a * a;</span><br><span class="line">            b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ans.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">data <span class="title">gcd</span><span class="params">(data a, data b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (b &gt; a) <span class="keyword">return</span> <span class="built_in">gcd</span>(b, a);</span><br><span class="line">        b.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">if</span> (b.<span class="built_in">is_zero</span>()) &#123;</span><br><span class="line">            a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        &#125;</span><br><span class="line">        a.<span class="built_in">clearbackzero</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">gcd</span>(b, a % b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Bignum;</span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div><div style="page-break-after:always"></div><h2 id="PART-2">PART 2</h2><p><strong>取整函數</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">floor</span>();    <span class="comment">// 向下</span></span><br><span class="line"><span class="built_in">ceil</span>();        <span class="comment">// 向上</span></span><br><span class="line"><span class="built_in">round</span>();    <span class="comment">// 四捨五入</span></span><br><span class="line"><span class="built_in">fix</span>();        <span class="comment">// 向零</span></span><br></pre></td></tr></table></figure><p><strong>二進制最高位</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inline</span> <span class="type">int</span> _lg(ll x) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; ; ++i)</span><br><span class="line">        <span class="keyword">if</span> ((<span class="number">1ll</span> &lt;&lt; i) &gt;= x) <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>對數與指數</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> p = <span class="number">1</span>, b = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (p * m &lt;= n) &#123;</span><br><span class="line">    b += <span class="number">1</span>;</span><br><span class="line">    p *= m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// b = log_m(n), p = m^n</span></span><br></pre></td></tr></table></figure><p><strong>整數與字符串相互轉換</strong></p><p>字符串轉整數</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">s2i</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : s) ans = ans * <span class="number">10</span> + i - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>整數轉字符串</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">i2s</span><span class="params">(ll n)</span> </span>&#123;</span><br><span class="line">    string s;</span><br><span class="line">    <span class="keyword">while</span> (n) s = (<span class="type">char</span>)(n % <span class="number">10</span> + <span class="number">48</span>) + s, n /= <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125; <span class="comment">// to_string(n);</span></span><br></pre></td></tr></table></figure><p><strong>進制轉換</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">mod</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a % b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a &gt;= <span class="number">0</span>) <span class="keyword">return</span> a % b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (b &gt;= <span class="number">0</span>) <span class="keyword">return</span> a % b + b;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> a % b - b;</span><br><span class="line">&#125; <span class="comment">// return a mod b; (maths)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">to10</span><span class="params">(string s, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    ll pow = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = s.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">        <span class="type">int</span> a = (s[i] &gt;= <span class="string">&#x27;A&#x27;</span>) ? (<span class="number">10</span> + s[i] - <span class="string">&#x27;A&#x27;</span>) : (s[i] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        num += a * pow;</span><br><span class="line">        pow *= r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">from10</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> r)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    string ans;</span><br><span class="line">    <span class="keyword">while</span> (num) &#123;</span><br><span class="line">        <span class="type">int</span> remainder = <span class="built_in">mod</span>(num, r);</span><br><span class="line">        ans = remainder &lt; <span class="number">10</span> ? <span class="built_in">char</span>(<span class="string">&#x27;0&#x27;</span> + remainder) + ans : <span class="built_in">char</span>(<span class="string">&#x27;A&#x27;</span> + remainder - <span class="number">10</span>) + ans;</span><br><span class="line">        num = (num - remainder) / r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>随机數</strong></p><p><code>rand()</code> 函數產生 <code>0 ~ RAND_MAX</code> 範圍内均匀分布的整數，其中 <code>RAND_MAX</code> 是和系统相关的一个固定值。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span> </span></span><br><span class="line"><span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">nullptr</span>)); <span class="comment">// 設置随机數种子</span></span><br><span class="line"><span class="built_in">rand</span>(); <span class="comment">// 产生一个随机數</span></span><br><span class="line"><span class="type">int</span> randoxNumber = <span class="built_in">rand</span>() % b; <span class="comment">// 产生 [0,b) 範圍内到随机數  </span></span><br><span class="line"><span class="type">int</span> randoxNumber = a + <span class="built_in">rand</span>() % ( b -a); <span class="comment">// 产生 [a,b) 範圍内到随机數 </span></span><br><span class="line"><span class="type">int</span> randoxNumber = a + <span class="built_in">rand</span>() % ( b - a <span class="number">+1</span> ); <span class="comment">// 产生 [a,b] 範圍内到随机數 </span></span><br><span class="line"><span class="type">double</span> randoxNumber = <span class="built_in">rand</span>() / RAND_MAX; <span class="comment">// 产生 [0,1] 範圍内到随机小數 </span></span><br><span class="line"><span class="type">double</span> randoxNumber = <span class="built_in">rand</span>() / ( RAND_MAX <span class="number">+1</span> ) <span class="comment">// 产生 [0,1) 範圍内到随机小數 </span></span><br></pre></td></tr></table></figure><div style="page-break-after:always"></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class="post-copyright-info"><a href="http://kobicgend.top">小明同學</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結:</span> <span class="post-copyright-info"><a href="http://kobicgend.top/posts/8de1f3f0.html">http://kobicgend.top/posts/8de1f3f0.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明:</span> <span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="http://kobicgend.top" target="_blank">小明の雜貨鋪</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ACM/">ACM</a><a class="post-meta__tags" href="/tags/%E7%AD%86%E8%A8%98/">筆記</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a></div><div class="post-share"><div class="social-share" data-image="/img/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/bbb9f31e.html" title="〔主机註記〕第 5 周主机註記 (Mar.11 - Mar.17)"><img class="cover" src="/img/zhuji-cover.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">〔主机註記〕第 5 周主机註記 (Mar.11 - Mar.17)</div></div><div class="info-2"><div class="info-item-1">第 5 周主机註記 月曜日 (Mar.11) 火曜日 (Mar.12) 水曜日 (Mar.13) 木曜日 (Mar.14) 金曜日 (Mar.15) 土曜日 (Mar.16) 日曜日 (Mar.17)</div></div></div></a><a class="pagination-related" href="/posts/4ff9541b.html" title="2024 年 3 月 14 日"><img class="cover" src="/img/posts/diary/24031401.webp" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">2024 年 3 月 14 日</div></div><div class="info-2"><div class="info-item-1">世界pi日，寫pi，並成爲pi。</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/366bb2f2.html" title="【算法杂谈 + 好题分享】图论中的懒标记 LazyTag 思想"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-01</div><div class="info-item-2">【算法杂谈 + 好题分享】图论中的懒标记 LazyTag 思想</div></div><div class="info-2"><div class="info-item-1">本系列教程「以题带讲」，以典型题目为载体，着重讲解知识点的适用条件和使用方法，而规避复杂的理论推导。 我不擅长数学，对 CF 和区域赛的数学题，从简单计算到数论组合都望而却步。「tag 是数学吗那不做了。」 可能是因为网上的教程大多是罗列定理，给出大段证明，最后放几个例题链接。我没有耐心和能力读完整篇文章。</div></div></div></a><a class="pagination-related" href="/posts/ba204004.html" title="Good Bye 2024: 2025 is NEAR A - E"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-11</div><div class="info-item-2">Good Bye 2024: 2025 is NEAR A - E</div></div><div class="info-2"><div class="info-item-1">无向图有边权。有 $q$ 个形式为 $(a, b, k)$ 的查询：从顶点 $a$ 到顶点 $b$ 的所有路径中，找出路径 上第 $k$ 大边权的最小值。$n \leqslant 400,\ q \leqslant 3 \times 10^{5}$。 枚举答案 $w$，把边权 $\leqslant w$ 的变成 0，$&gt; w$ 的变成 1。如果 $d_{a\to b}&lt;k$，就说明答案 $\leqslant w$。</div></div></div></a><a class="pagination-related" href="/posts/43a1bd89.html" title="樹上問題 - 樹形 DP"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-08</div><div class="info-item-2">樹上問題 - 樹形 DP</div></div><div class="info-2"><div class="info-item-1">Tree 1234567891011121314151617181920212223242526272829303132333435363738struct node &#123; string data; int l, r;&#125;t[10005];void pretvs(int k) &#123; // 先序遍历：先遍历根节点，然后遍历左节点，最后遍历右节点 if (k == 0)return; cout &lt;&lt; t[k].data; if (t[k].l != 0) pretvs(t[k].l); if (t[k].r != 0) pretvs(t[k].r);&#125;void intvs(int k) &#123;// 中序遍历：先遍历左节点，然后遍历根节点，最后遍历右节点（大概可以理解为把树平面投影至二维从左到右） if (k == 0)return; if (t[k].l != 0) intvs(t[k].l); cout &lt;&lt; t[k].data; if (t[k].r !=...</div></div></div></a><a class="pagination-related" href="/posts/f9a46751.html" title="Codeforces Round 982 (Div. 2)"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-27</div><div class="info-item-2">Codeforces Round 982 (Div. 2)</div></div><div class="info-2"><div class="info-item-1">A. Rectangle Arrangement 取最大值的正确性：凸阶梯形平移后即是矩形，其周长与矩形周长相等。 123456789101112131415161718192021222324252627#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;int main() &#123; ios::sync_with_stdio(false); cin.tie(nullptr); int t; cin &gt;&gt; t; while (t--) &#123; int n; cin &gt;&gt; n; int X = 0, Y = 0; while (n--) &#123; int x, y; cin &gt;&gt; x &gt;&gt; y; X = max(X, x); Y = max(Y, y); ...</div></div></div></a><a class="pagination-related" href="/posts/ec4161c0.html" title="Codeforces Round 1008 (Div. 1) A - C"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-11</div><div class="info-item-2">Codeforces Round 1008 (Div. 1) A - C</div></div><div class="info-2"><div class="info-item-1">2077A/2078C - Breach of Faith 取较大的 $\cfrac{n}{2}+1$ 个放在奇数位，较小的放在偶数位。 12345678910111213141516171819202122232425262728293031323334353637#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;int main() &#123; int J; cin &gt;&gt; J; while (J--) &#123; int n; cin &gt;&gt; n; vector&lt;int&gt; a(n * 2); for (int i = 0; i &lt; n * 2; i++) &#123; cin &gt;&gt; a[i]; &#125; sort(a.begin(), a.end()); vector&lt;ll&gt;...</div></div></div></a><a class="pagination-related" href="/posts/6370b5c4.html" title="Educational Codeforces Round 176 (Rated for Div. 2) A-D"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-28</div><div class="info-item-2">Educational Codeforces Round 176 (Rated for Div. 2) A-D</div></div><div class="info-2"><div class="info-item-1">edu 场神秘分类讨论，神秘推式子。 2075A - To Zero 一次偶数那之后都是偶数。 1234567891011121314151617181920212223#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; int J; cin &gt;&gt; J; while (J--) &#123; int n, k; cin &gt;&gt; n &gt;&gt; k; int res = 0; if (n &amp; 1) &#123; n = max(0, n - k); res++; &#125; k--; res += (n + k - 1) / k; cout &lt;&lt; res &lt;&lt; endl; &#125; return 0;&#125; 2075B - Array...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>評論</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">小明同學</div><div class="author-info-description">「一直游到海水變藍。」</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">381</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">23</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/kobicgend"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">用於備份小明的腦子。<br>———— <b>Tips</b> ————<br>部分評論從QQ空間或puq抓取，由於技術有限，無法顯示正確的位置和時間，望見諒。<br>———— <b>本站常規欄目</b> ————<br>周日中午:高中回憶《中外历史纲要》<br>周二清晨:語錄體《主机註記》<br>周三下午:有事大家谈/掷地有声<br>周三/六晚上:算法學習筆記<br>———— <b>計劃中</b> ————<br>美食評測, 每日一圖, ...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">算法程序實訓｜早讀講義</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PART-0"><span class="toc-text">PART 0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PART-1"><span class="toc-text">PART 1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%EF%BD%9E%E5%85%AB%E8%AC%9B%20-cpp-%20%E5%9F%BA%E7%A4%8E"><span class="toc-text">第一～八講　cpp 基礎</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B8%E6%8D%AE%E9%A1%9E%E5%9E%8B%E7%AF%84%E5%9C%8D"><span class="toc-text">數据類型範圍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#I-O%20%E6%B5%81%E6%8E%A7%E5%88%B6%E7%AC%A6"><span class="toc-text">I&#x2F;O 流控制符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E9%81%94%E5%BC%8F%E5%84%AA%E5%85%88%E7%B4%9A"><span class="toc-text">表達式優先級</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B9%9D%E8%AC%9B%20-%20%E5%89%8D%E7%B6%B4%E5%92%8C%E4%B8%8E%E5%B7%AE%E5%88%86"><span class="toc-text">第九講 前綴和与差分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E8%AC%9B%20-%20%E6%8E%92%E5%BA%8F"><span class="toc-text">第十講 排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%80%E8%AC%9B%20-%20%E5%88%86%E6%B2%BB%E8%88%87%E4%BA%8C%E5%88%86"><span class="toc-text">第十一講 分治與二分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%8C%E8%AC%9B%20-%20%E9%81%9E%E6%8E%A8%E8%88%87%E9%81%9E%E6%AD%B8"><span class="toc-text">第十二講 遞推與遞歸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%89%E8%AC%9B%20-%20%E7%AE%80%E5%96%AE%E6%95%B8%E5%AD%A6%E5%92%8C%E6%9E%9A%E8%88%89%E7%BA%A6%E5%87%8F"><span class="toc-text">第十三講 简單數学和枚舉约减</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B1%82%E7%B5%84%E5%90%88%E6%95%B8"><span class="toc-text">求組合數</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%9B%9B%E8%AC%9B%20-%20%E4%BD%8D%E9%81%8B%E7%AE%97"><span class="toc-text">第十四講 位運算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%BA%94%E8%AC%9B%20-%20%E6%9E%9A%E8%88%89%E6%8E%92%E5%88%97"><span class="toc-text">第十五講 枚舉排列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%85%AD%E8%AC%9B%20-%20%E6%9E%9A%E8%88%89%E5%AD%90%E9%9B%86"><span class="toc-text">第十六講 枚舉子集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B8%83%E8%AC%9B%20-STL"><span class="toc-text">第十七講 STL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E5%85%AB%E8%AC%9B%20-%20%E8%B2%AA%E5%BF%83"><span class="toc-text">第十八講 貪心</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%8D%81%E4%B9%9D%E8%AC%9B%20-%20%E5%8B%95%E6%85%8B%E8%A6%8F%E5%8A%83%20-DP"><span class="toc-text">第十九講 動態規劃 DP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DP%EF%BC%9A%E6%93%BA%E8%8A%B1%E2%80%94%E2%80%94%E6%96%B9%E6%B3%95%E6%95%B8%E5%95%8F%E9%A1%8C"><span class="toc-text">DP：擺花——方法數問題</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DP%EF%BC%9A%E6%9C%80%E9%95%B7%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-text">DP：最長上升子序列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DP%EF%BC%9A%E8%83%8C%E5%8C%85%E5%95%8F%E9%A1%8C"><span class="toc-text">DP：背包問題</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E8%AC%9B%20-%20%E5%BF%AB%E9%80%9F%E5%86%AA"><span class="toc-text">第二十講　快速冪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%B8%80%E8%AC%9B%20-DFS"><span class="toc-text">第二十一講　DFS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%B7%E5%AE%AE%E5%95%8F%E9%A1%8C"><span class="toc-text">迷宮問題</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%BA%8C%E8%AC%9B%20-BFS"><span class="toc-text">第二十二講　BFS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E4%B8%89%E8%AC%9B%20-%20%E6%95%B8%E8%AB%96"><span class="toc-text">第二十三講　數論</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%9B%9B%E8%AC%9B%20-%20%E9%AB%98%E7%B2%BE%E5%BA%A6"><span class="toc-text">第二十四講　高精度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PART-2"><span class="toc-text">PART 2</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/9c43eea3.html" title="〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)"></a><div class="content"><a class="title" href="/posts/9c43eea3.html" title="〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)">〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)</a><time datetime="2026-02-02T22:30:00.000Z" title="更新於 2026-02-03 06:30:00">2026-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/449a65b8.html" title="〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)"></a><div class="content"><a class="title" href="/posts/449a65b8.html" title="〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)">〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)</a><time datetime="2026-01-26T22:30:00.000Z" title="更新於 2026-01-27 06:30:00">2026-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7cd85ddd.html" title="〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)"></a><div class="content"><a class="title" href="/posts/7cd85ddd.html" title="〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)">〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)</a><time datetime="2026-01-19T22:30:00.000Z" title="更新於 2026-01-20 06:30:00">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e0c306a7.html" title="〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)"></a><div class="content"><a class="title" href="/posts/e0c306a7.html" title="〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)">〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)</a><time datetime="2026-01-12T22:30:00.000Z" title="更新於 2026-01-13 06:30:00">2026-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d167da02.html" title="【r-906】【初音ミク】黑白感觉"><img src="/img/posts/music/%E3%83%A9%E3%82%B0%E3%83%88%E3%83%AC%E3%82%A4%E3%83%B3.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【r-906】【初音ミク】黑白感觉"></a><div class="content"><a class="title" href="/posts/d167da02.html" title="【r-906】【初音ミク】黑白感觉">【r-906】【初音ミク】黑白感觉</a><time datetime="2026-01-07T16:00:00.000Z" title="更新於 2026-01-08 00:00:00">2026-01-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2026 By 小明同學</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typesetPromise();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"none"},chtml:{scale:1.1},options:{enableMenu:!0,renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const n=!!e.type.match(/; *mode=display/),a=new t.options.MathItem(e.textContent,t.inputJax[0],n),d=document.createTextNode("");e.parentNode.replaceChild(d,e),a.start={node:d,delim:"",n:0},a.end={node:d,delim:"",n:0},t.math.push(a)}},""]}}};const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}};btf.addGlobalFn("encrypt",t,"mathjax"),window.pjax?t():window.addEventListener("load",t)})()</script><script>(()=>{const o="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t=null,e=(e=document,n=location.pathname)=>{twikoo.init({el:e.querySelector("#twikoo-wrap"),envId:"https://twikoo.kobicgend.top/",region:"ap-shanghai",onCommentLoaded:()=>{btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))},...t,path:n}),o&&(window.shuoshuoComment.destroyTwikoo=()=>{e.children.length&&(e.innerHTML="",e.classList.add("no-comment"))})},n=(o,t)=>{"object"==typeof twikoo?setTimeout(()=>e(o,t),0):btf.getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(()=>e(o,t))};o?window.shuoshuoComment={loadComment:n}:n()})()</script></div><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="/js/flipcountdown.js"></script><script data-pjax src="/js/runtime.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script></body></html>