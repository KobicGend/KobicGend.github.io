<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>XCPC wiki - Pseudotree 基环树 | 小明の雜貨鋪</title><meta name="author" content="小明同學"><meta name="copyright" content="小明同學"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="并查集——转化为树 + 边 基环树的最大独立集 砍掉一条边 $st$ 后是树，求树的最大独立集，但有限制 $s,t$ 不能同时选。因此以 $s,t$ 分别为根，求根节点不选的最大独立集。答案为两者较大的。对于基环树森林，对每个基环树分别处理。(洛谷 P2607 骑士) 123456789101112131415161718192021222324252627282930313233343536in"><meta property="og:type" content="article"><meta property="og:title" content="XCPC wiki - Pseudotree 基环树"><meta property="og:url" content="http://kobicgend.top/posts/19a2d849.html"><meta property="og:site_name" content="小明の雜貨鋪"><meta property="og:description" content="并查集——转化为树 + 边 基环树的最大独立集 砍掉一条边 $st$ 后是树，求树的最大独立集，但有限制 $s,t$ 不能同时选。因此以 $s,t$ 分别为根，求根节点不选的最大独立集。答案为两者较大的。对于基环树森林，对每个基环树分别处理。(洛谷 P2607 骑士) 123456789101112131415161718192021222324252627282930313233343536in"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="http://kobicgend.top/img/avatar.png"><meta property="article:published_time" content="2025-01-24T14:05:00.000Z"><meta property="article:modified_time" content="2025-01-24T14:05:00.000Z"><meta property="article:author" content="小明同學"><meta property="article:tag" content="ACM"><meta property="article:tag" content="筆記"><meta property="article:tag" content="算法"><meta property="article:tag" content="圖論"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://kobicgend.top/img/avatar.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "XCPC wiki - Pseudotree 基环树",
  "url": "http://kobicgend.top/posts/19a2d849.html",
  "image": "http://kobicgend.top/img/avatar.png",
  "datePublished": "2025-01-24T14:05:00.000Z",
  "dateModified": "2025-01-24T14:05:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "小明同學",
      "url": "http://kobicgend.top/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://kobicgend.top/posts/19a2d849.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const n=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:n}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:n}=JSON.parse(t);if(!(Date.now()>n))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,n)=>{const a=document.createElement("script");a.src=e,a.async=!0,Object.entries(t).forEach(([e,t])=>a.setAttribute(e,t)),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||o()},a.onerror=n,document.head.appendChild(a)}),getCSS:(e,t)=>new Promise((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onload=a.onreadystatechange=()=>{a.readyState&&!/loaded|complete/.test(a.readyState)||o()},a.onerror=n,document.head.appendChild(a)}),addGlobalFn:(e,t,o=!1,n=window)=>{if(e.startsWith("pjax"))return;const a=n.globalFn||{};a[e]=a[e]||{},a[e][o||Object.keys(a[e]).length]=t,n.globalFn=a}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","undefined")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","undefined")};btf.activateDarkMode=t,btf.activateLightMode=o;const n=e.get("theme");"dark"===n?t():"light"===n&&o();const a=e.get("aside-status");void 0!==a&&document.documentElement.classList.toggle("hide-aside","hide"===a);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1,highlightFullpage:!1,highlightMacStyle:!1},copy:{success:"複製成功",error:"複製失敗",noSupport:"瀏覽器不支援"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"剛剛",min:"分鐘前",hour:"小時前",day:"天前",month:"個月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js",buttonText:"載入更多"},isPhotoFigcaption:!1,islazyloadPlugin:!1,isAnchor:!0,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"XCPC wiki - Pseudotree 基环树",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="/css/fonts.css"><link rel="stylesheet" href="/css/title.css"><link rel="stylesheet" href="/css/flipcountdown.css"><link rel="stylesheet" href="/css/masktag.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">載入中...</div></div></div><script>(()=>{const d=document.getElementById("loading-box"),e=document.body,o=()=>{e.style.overflow="",d.classList.add("loaded")},l=()=>{e.style.overflow="hidden",d.classList.remove("loaded")};l(),window.addEventListener("load",o)})()</script><div id="web_bg" style="background-image:url(url(http://kobicgend.top/img/background.png))"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">381</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">23</div></a></div><div class="menus_items"><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-book"></i> <span>記事簿</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/diary/diary-stz/"><i class="fa-fw fa fa-book"></i> <span>《中外历史纲要》</span></a></li><li><a class="site-page child" href="/categories/%E6%97%A5%E8%A8%98/%E4%B8%BB%E6%9C%BA%E8%A8%BB%E8%A8%98/"><i class="fa-fw fa fa-book"></i> <span>《主机註記》</span></a></li><li><a class="site-page child" href="/diary/hutaolinriji/"><i class="fa-fw fa fa-book"></i> <span>楜桃林日記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-book-open"></i> <span>筆記本</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/935ec80a.html"><i class="fa-fw fa fa-quran"></i> <span>XCPC</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>大學筆記</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>其它筆記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-palette"></i> <span>作品集</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E4%BD%9C%E5%93%81/%E5%BE%AE%E4%BF%A1%E5%85%AC%E7%9C%BE%E8%99%9F/"><i class="fa-fw fa fa-radio"></i> <span>CUC-Radio</span></a></li><li><a class="site-page child" href="/posts/e7eea71f.html"><i class="fa-fw fa fa-stamp"></i> <span>篆刻作品展</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-toolbox"></i> <span>工具箱</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/Music/"><i class="fa-fw fa fa-music"></i> <span>Music</span></a></li><li><a class="site-page child" href="/categories/Poetry/"><i class="fa-fw fa fa-guitar"></i> <span>詩詞</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i> <span>更多</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/c096c313.html"><i class="fa-fw fa fa-subway"></i> <span>地鐵圖</span></a></li><li><a class="site-page child" href="/ovo/eikon"><span>賽博空調</span></a></li><li><a class="site-page child" href="/ovo/tabe"><span>中午吃什么</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>好盆友</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user"></i> <span>關於小明</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/index.png)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">小明の雜貨鋪</span></a><a class="nav-page-title" href="/"><span class="site-name">XCPC wiki - Pseudotree 基环树</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-book"></i> <span>記事簿</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/diary/diary-stz/"><i class="fa-fw fa fa-book"></i> <span>《中外历史纲要》</span></a></li><li><a class="site-page child" href="/categories/%E6%97%A5%E8%A8%98/%E4%B8%BB%E6%9C%BA%E8%A8%BB%E8%A8%98/"><i class="fa-fw fa fa-book"></i> <span>《主机註記》</span></a></li><li><a class="site-page child" href="/diary/hutaolinriji/"><i class="fa-fw fa fa-book"></i> <span>楜桃林日記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-book-open"></i> <span>筆記本</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/935ec80a.html"><i class="fa-fw fa fa-quran"></i> <span>XCPC</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>大學筆記</span></a></li><li><a class="site-page child" href="/notes/"><i class="fa-fw fa fa-tanakh"></i> <span>其它筆記</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-palette"></i> <span>作品集</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/%E4%BD%9C%E5%93%81/%E5%BE%AE%E4%BF%A1%E5%85%AC%E7%9C%BE%E8%99%9F/"><i class="fa-fw fa fa-radio"></i> <span>CUC-Radio</span></a></li><li><a class="site-page child" href="/posts/e7eea71f.html"><i class="fa-fw fa fa-stamp"></i> <span>篆刻作品展</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fa fa-toolbox"></i> <span>工具箱</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/Music/"><i class="fa-fw fa fa-music"></i> <span>Music</span></a></li><li><a class="site-page child" href="/categories/Poetry/"><i class="fa-fw fa fa-guitar"></i> <span>詩詞</span></a></li></ul></div><div class="menus_item"><span class="site-page group hide"><i class="fa-fw fas fa-list"></i> <span>更多</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/posts/c096c313.html"><i class="fa-fw fa fa-subway"></i> <span>地鐵圖</span></a></li><li><a class="site-page child" href="/ovo/eikon"><span>賽博空調</span></a></li><li><a class="site-page child" href="/ovo/tabe"><span>中午吃什么</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i> <span>好盆友</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-user"></i> <span>關於小明</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">XCPC wiki - Pseudotree 基环树</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2025-01-24T14:05:00.000Z" title="發表於 2025-01-24 22:05:00">2025-01-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2025-01-24T14:05:00.000Z" title="更新於 2025-01-24 22:05:00">2025-01-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AD%86%E8%A8%98/">筆記</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AD%86%E8%A8%98/XCPCwiki/">XCPCwiki</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">總字數:</span><span class="word-count">1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閱讀時間:</span><span>5分鐘</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">瀏覽量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="并查集——转化为树 - 边">并查集——转化为树 + 边</h2><h3 id="基环树的最大独立集">基环树的最大独立集</h3><p>砍掉一条边 $st$ 后是树，求树的最大独立集，但有限制 $s,t$ 不能同时选。因此以 $s,t$ 分别为根，求根节点不选的最大独立集。答案为两者较大的。对于基环树森林，对每个基环树分别处理。(<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2607">洛谷 P2607 骑士</a>)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">w</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="function">DSU <span class="title">dsu</span><span class="params">(n)</span></span>;</span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; nte;  <span class="comment">// none-tree edge</span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">E</span>(n);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> u, v;</span><br><span class="line">    cin &gt;&gt; u &gt;&gt; v &gt;&gt; w[i];</span><br><span class="line">    cin &gt;&gt; v; v--;</span><br><span class="line">    <span class="keyword">if</span> (!dsu.<span class="built_in">uno</span>(u, v)) nte.<span class="built_in">push_back</span>(&#123; u, v &#125;);</span><br><span class="line">    <span class="keyword">else</span> E[u].<span class="built_in">push_back</span>(v), E[v].<span class="built_in">push_back</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;array&lt;ll, 2&gt;&gt; <span class="built_in">dp</span>(n);</span><br><span class="line"><span class="keyword">auto</span> dfs = [&amp;](<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; self, <span class="type">int</span> u, <span class="type">int</span> p) -&gt; <span class="type">void</span> &#123;</span><br><span class="line">    dp[u][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    dp[u][<span class="number">1</span>] = w[u];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> v : E[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (v == p) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">self</span>(v, u);</span><br><span class="line">        dp[u][<span class="number">0</span>] += <span class="built_in">max</span>(dp[v][<span class="number">0</span>], dp[v][<span class="number">1</span>]);</span><br><span class="line">        dp[u][<span class="number">1</span>] += dp[v][<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">auto</span> solve = [&amp;](<span class="type">int</span> s) &#123;</span><br><span class="line">    <span class="built_in">dfs</span>(s, <span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">return</span> dp[s][<span class="number">0</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ll sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> [u, v] : nte) &#123;</span><br><span class="line">    sum += <span class="built_in">max</span>(<span class="built_in">solve</span>(u), <span class="built_in">solve</span>(v));</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; sum &lt;&lt; endl;</span><br></pre></td></tr></table></figure><h2 id="主机数——转化为环 - 树">主机数——转化为环 + 树</h2><h3 id="基环树的直径">基环树的直径</h3><p>一棵基环树的直径只有下面两种情况：</p><p>（一）环上的某一点作为根的子树的直径。这是普通的树直径问题。</p><p>（二）环上有两点，每个点引出一条链，然后再将这两点相连。首先记录环上每个节点 $i$ 为根的子树中，从 $i$ 出发的最长路径 $f_{i}$。需要在环上找到 $i,j$ 两点，使得 $f_{i}+f_{j}+d(i,j)$ 最大，也就是最大化 $f_{i}+f_{j}+d_{j}-d_{i}$，断环为链后枚举右边界 $j$，然后对于每一个 $j$，找满足 $j-n+1 \leqslant i&lt;j$ 的最大的 $f_{i}-d_{i}$，用单调队列优化。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">vector&lt;vector&lt;array&lt;<span class="type">int</span>, 3&gt;&gt;&gt; <span class="built_in">E</span>(n);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="type">int</span> u, v, w;</span><br><span class="line">    cin &gt;&gt; v &gt;&gt; w;</span><br><span class="line">    u = i, v--;</span><br><span class="line">    E[u].<span class="built_in">push_back</span>(&#123; w, v, i &#125;);</span><br><span class="line">    E[v].<span class="built_in">push_back</span>(&#123; w, u, i &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拓扑排序 </span></span><br><span class="line">queue&lt;<span class="type">int</span>&gt; Q;</span><br><span class="line"><span class="function">vector&lt;ll&gt; <span class="title">dp</span><span class="params">(n)</span>, <span class="title">res</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vis</span><span class="params">(n)</span>, <span class="title">deg</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> u = <span class="number">0</span>; u &lt; n; ++u) &#123;</span><br><span class="line">    deg[u] = E[u].<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">if</span> (deg[u] == <span class="number">1</span>) Q.<span class="built_in">push</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (!Q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">    <span class="type">int</span> v = Q.<span class="built_in">front</span>(); Q.<span class="built_in">pop</span>();</span><br><span class="line">    vis[v] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [w, u, id] : E[v]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (deg[u] &gt; <span class="number">1</span>) &#123; <span class="comment">// v 是 u 的子节点</span></span><br><span class="line">            res[u] = <span class="built_in">max</span>(&#123; res[u], res[v], dp[u] + dp[v] + w &#125;);</span><br><span class="line">            dp[u] = <span class="built_in">max</span>(dp[u], dp[v] + w);  <span class="comment">// 这里写树形 DP 方程</span></span><br><span class="line">            <span class="keyword">if</span> (--deg[u] == <span class="number">1</span>) Q.<span class="built_in">push</span>(u);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ll ress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> u = <span class="number">0</span>; u &lt; n; ++u) &#123;</span><br><span class="line">    <span class="keyword">if</span> (vis[u]) <span class="keyword">continue</span>;  <span class="comment">// 对于每一个基环树找环上的一个点</span></span><br><span class="line">    vector&lt;ll&gt; W;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; V;</span><br><span class="line">    V.<span class="built_in">push_back</span>(u);</span><br><span class="line">    W.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    vis[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> fromid = <span class="number">-1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">do</span> <span class="title">for</span> <span class="params">(<span class="keyword">auto</span> [w, v, id] : E[V.back()])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (deg[v] != <span class="number">1</span> &amp;&amp; id != fromid) &#123;</span><br><span class="line">            fromid = id;</span><br><span class="line">            vis[v] = <span class="number">1</span>;</span><br><span class="line">            V.<span class="built_in">push_back</span>(v);</span><br><span class="line">            W.<span class="built_in">push_back</span>(w);</span><br><span class="line">            res[u] = <span class="built_in">max</span>(res[u], res[v]);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (u != V.<span class="built_in">back</span>());</span><br><span class="line">    <span class="type">int</span> cnt = V.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    V.<span class="built_in">resize</span>(cnt &lt;&lt; <span class="number">1</span>);</span><br><span class="line">    W.<span class="built_in">resize</span>(cnt &lt;&lt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 断环为链</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = cnt + <span class="number">1</span>; i &lt; (cnt &lt;&lt; <span class="number">1</span>); i++) &#123;</span><br><span class="line">        W[i] = W[i - cnt];</span><br><span class="line">        V[i] = V[i - cnt];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; (cnt &lt;&lt; <span class="number">1</span>); i++) &#123;</span><br><span class="line">        W[i] += W[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    deque&lt;<span class="type">int</span>&gt; Q&#123; <span class="number">0</span> &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; (cnt &lt;&lt; <span class="number">1</span>); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!Q.<span class="built_in">empty</span>() &amp;&amp; i - Q.<span class="built_in">front</span>() &gt;= cnt)</span><br><span class="line">            Q.<span class="built_in">pop_front</span>(); <span class="comment">// 毕业</span></span><br><span class="line">        res[u] = <span class="built_in">max</span>(res[u], dp[V[i]] + dp[V[Q.<span class="built_in">front</span>()]] + W[i] - W[Q.<span class="built_in">front</span>()]);</span><br><span class="line">        <span class="keyword">while</span> (!Q.<span class="built_in">empty</span>() &amp;&amp; dp[V[i]] - W[i] &gt;= dp[V[Q.<span class="built_in">back</span>()]] - W[Q.<span class="built_in">back</span>()])</span><br><span class="line">            Q.<span class="built_in">pop_back</span>();  <span class="comment">// 维护 dp[V[i]]-W[i] 最大值</span></span><br><span class="line">        Q.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ress += res[u];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cout &lt;&lt; ress &lt;&lt; endl;</span><br></pre></td></tr></table></figure><p>附：DFS 找环（慎用）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">E</span>(n), cycs;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vis</span><span class="params">(n)</span>, <span class="title">p</span><span class="params">(n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> dfs = [&amp;](<span class="keyword">this</span> <span class="keyword">auto</span>&amp;&amp; self, <span class="type">int</span> u) &#123;</span><br><span class="line">    vis[u] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; v : E[u]) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!vis[v]) &#123;</span><br><span class="line">            p[v] = u;</span><br><span class="line">            <span class="built_in">self</span>(v);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (vis[v] == <span class="number">1</span>) &#123;</span><br><span class="line">            vector&lt;<span class="type">int</span>&gt; cyc;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = u; i != v; i = p[i]) &#123;</span><br><span class="line">                cyc.<span class="built_in">push_back</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">            cyc.<span class="built_in">push_back</span>(v);</span><br><span class="line">            cycs.<span class="built_in">push_back</span>(cyc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[u] = <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="有向基环树">有向基环树</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者:</span> <span class="post-copyright-info"><a href="http://kobicgend.top">小明同學</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章連結:</span> <span class="post-copyright-info"><a href="http://kobicgend.top/posts/19a2d849.html">http://kobicgend.top/posts/19a2d849.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版權聲明:</span> <span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 授權協議。轉載請註明來源 <a href="http://kobicgend.top" target="_blank">小明の雜貨鋪</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/ACM/">ACM</a><a class="post-meta__tags" href="/tags/%E7%AD%86%E8%A8%98/">筆記</a><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a><a class="post-meta__tags" href="/tags/%E5%9C%96%E8%AB%96/">圖論</a></div><div class="post-share"><div class="social-share" data-image="/img/avatar.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/72989097.html" title="XCPC wiki - Minimum Spanning Tree 最小生成树"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">XCPC wiki - Minimum Spanning Tree 最小生成树</div></div><div class="info-2"><div class="info-item-1">稠密图 Input Output 40 2 2 32 0 4 82 4 0 33 8 3 0 7 Prim：从任意一个点开始，每次选择一个与当前点相邻且边权最小的点，并将两顶点之间的边加入到树中。时间复杂度 $\Theta(n^2)$，空间复杂度 $\Theta(n)$。 1234567891011121314151617vector&lt;int&gt; mn(n, inf), vis(n);mn[0] = 0;int ans = 0;for (int t = 0; t &lt; n; ++t) &#123; int u = -1; for (int j = 0; j &lt; n; j++) &#123; if (!vis[j] &amp;&amp; (u == -1 || mn[j] &lt; mn[u])) &#123; u = j; &#125; &#125; vis[u] = 1; ans += mn[u]; for (int v = 0; v &lt; n;...</div></div></div></a><a class="pagination-related" href="/posts/bfa646a6.html" title="XCPC wiki - 图论技巧集"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">XCPC wiki - 图论技巧集</div></div><div class="info-2"><div class="info-item-1">转化为树——树边和非树边 回忆 Tarjan 里讲的有向图 DFS 生成树： DFS 生成树 每当通过某条边访问到一个新节点，就加入这个点和这条边，并为点记录 DFS 序（unix 时间戳）。 DFS 生成树的边的种类： 树边 DFS 生成树上的边； 前向边 从某个点到它的某个子孙节点的边，产生了捷径。 反向边 从某个点到它的某个祖先节点的边，产生了环； 横叉边 从某个点到一个既非它子孙节点、也非它祖先节点的边，连接了两个强连通子图。 对于无向图是类似的，不同点是 无向图的 DFS 树没有横叉边 ，只有前向边和反向边，而前向边都是已访问的，可以认为 无向图的 DFS 树只有反向边，因此非树边的端点 $u,v$ 的 LCA 为 $v$，作树上差分时，直接 $w_{v}-d,\ w_{u}+d$ 即可。 删边后的连通性 给定一个无向连通图。每次询问给出一组边，确定删除这些边后图是否连通。 令第 $i$ 条非树边的权值是 $2^i$，再令这条边的两个端点在树上的对应路径上的边全部 $\oplus 2^i$。那么一个极小的割一定满足其中所有边的权值异或和为...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相關推薦</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/366bb2f2.html" title="【算法杂谈 + 好题分享】图论中的懒标记 LazyTag 思想"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-01</div><div class="info-item-2">【算法杂谈 + 好题分享】图论中的懒标记 LazyTag 思想</div></div><div class="info-2"><div class="info-item-1">本系列教程「以题带讲」，以典型题目为载体，着重讲解知识点的适用条件和使用方法，而规避复杂的理论推导。 我不擅长数学，对 CF 和区域赛的数学题，从简单计算到数论组合都望而却步。「tag 是数学吗那不做了。」 可能是因为网上的教程大多是罗列定理，给出大段证明，最后放几个例题链接。我没有耐心和能力读完整篇文章。</div></div></div></a><a class="pagination-related" href="/posts/43a1bd89.html" title="樹上問題 - 樹形 DP"><div class="cover" style="background:var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-08</div><div class="info-item-2">樹上問題 - 樹形 DP</div></div><div class="info-2"><div class="info-item-1">Tree 1234567891011121314151617181920212223242526272829303132333435363738struct node &#123; string data; int l, r;&#125;t[10005];void pretvs(int k) &#123; // 先序遍历：先遍历根节点，然后遍历左节点，最后遍历右节点 if (k == 0)return; cout &lt;&lt; t[k].data; if (t[k].l != 0) pretvs(t[k].l); if (t[k].r != 0) pretvs(t[k].r);&#125;void intvs(int k) &#123;// 中序遍历：先遍历左节点，然后遍历根节点，最后遍历右节点（大概可以理解为把树平面投影至二维从左到右） if (k == 0)return; if (t[k].l != 0) intvs(t[k].l); cout &lt;&lt; t[k].data; if (t[k].r !=...</div></div></div></a><a class="pagination-related" href="/posts/ba204004.html" title="Good Bye 2024: 2025 is NEAR A - E"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-11</div><div class="info-item-2">Good Bye 2024: 2025 is NEAR A - E</div></div><div class="info-2"><div class="info-item-1">无向图有边权。有 $q$ 个形式为 $(a, b, k)$ 的查询：从顶点 $a$ 到顶点 $b$ 的所有路径中，找出路径 上第 $k$ 大边权的最小值。$n \leqslant 400,\ q \leqslant 3 \times 10^{5}$。 枚举答案 $w$，把边权 $\leqslant w$ 的变成 0，$&gt; w$ 的变成 1。如果 $d_{a\to b}&lt;k$，就说明答案 $\leqslant w$。</div></div></div></a><a class="pagination-related" href="/posts/f9a46751.html" title="Codeforces Round 982 (Div. 2)"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-27</div><div class="info-item-2">Codeforces Round 982 (Div. 2)</div></div><div class="info-2"><div class="info-item-1">A. Rectangle Arrangement 取最大值的正确性：凸阶梯形平移后即是矩形，其周长与矩形周长相等。 123456789101112131415161718192021222324252627#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;int main() &#123; ios::sync_with_stdio(false); cin.tie(nullptr); int t; cin &gt;&gt; t; while (t--) &#123; int n; cin &gt;&gt; n; int X = 0, Y = 0; while (n--) &#123; int x, y; cin &gt;&gt; x &gt;&gt; y; X = max(X, x); Y = max(Y, y); ...</div></div></div></a><a class="pagination-related" href="/posts/ec4161c0.html" title="Codeforces Round 1008 (Div. 1) A - C"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-11</div><div class="info-item-2">Codeforces Round 1008 (Div. 1) A - C</div></div><div class="info-2"><div class="info-item-1">2077A/2078C - Breach of Faith 取较大的 $\cfrac{n}{2}+1$ 个放在奇数位，较小的放在偶数位。 12345678910111213141516171819202122232425262728293031323334353637#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;int main() &#123; int J; cin &gt;&gt; J; while (J--) &#123; int n; cin &gt;&gt; n; vector&lt;int&gt; a(n * 2); for (int i = 0; i &lt; n * 2; i++) &#123; cin &gt;&gt; a[i]; &#125; sort(a.begin(), a.end()); vector&lt;ll&gt;...</div></div></div></a><a class="pagination-related" href="/posts/6370b5c4.html" title="Educational Codeforces Round 176 (Rated for Div. 2) A-D"><img class="cover" src="/img/posts/acm/codeforces-cover.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-28</div><div class="info-item-2">Educational Codeforces Round 176 (Rated for Div. 2) A-D</div></div><div class="info-2"><div class="info-item-1">edu 场神秘分类讨论，神秘推式子。 2075A - To Zero 一次偶数那之后都是偶数。 1234567891011121314151617181920212223#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; int J; cin &gt;&gt; J; while (J--) &#123; int n, k; cin &gt;&gt; n &gt;&gt; k; int res = 0; if (n &amp; 1) &#123; n = max(0, n - k); res++; &#125; k--; res += (n + k - 1) / k; cout &lt;&lt; res &lt;&lt; endl; &#125; return 0;&#125; 2075B - Array...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>評論</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">小明同學</div><div class="author-info-description">「一直游到海水變藍。」</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">381</div></a><a href="/tags/"><div class="headline">標籤</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分類</div><div class="length-num">23</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/kobicgend"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">用於備份小明的腦子。<br>———— <b>Tips</b> ————<br>部分評論從QQ空間或puq抓取，由於技術有限，無法顯示正確的位置和時間，望見諒。<br>———— <b>本站常規欄目</b> ————<br>周日中午:高中回憶《中外历史纲要》<br>周二清晨:語錄體《主机註記》<br>周三下午:有事大家谈/掷地有声<br>周三/六晚上:算法學習筆記<br>———— <b>計劃中</b> ————<br>美食評測, 每日一圖, ...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目錄</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E2%80%94%E2%80%94%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%A0%91%20-%20%E8%BE%B9"><span class="toc-text">并查集——转化为树 + 边</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%8E%AF%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E7%8B%AC%E7%AB%8B%E9%9B%86"><span class="toc-text">基环树的最大独立集</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E6%95%B0%E2%80%94%E2%80%94%E8%BD%AC%E5%8C%96%E4%B8%BA%E7%8E%AF%20-%20%E6%A0%91"><span class="toc-text">主机数——转化为环 + 树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%8E%AF%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84"><span class="toc-text">基环树的直径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%90%91%E5%9F%BA%E7%8E%AF%E6%A0%91"><span class="toc-text">有向基环树</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/9c43eea3.html" title="〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)"></a><div class="content"><a class="title" href="/posts/9c43eea3.html" title="〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)">〔主机註記〕第 104 周主机註記 (Feb.2 - Feb.8)</a><time datetime="2026-02-02T22:30:00.000Z" title="更新於 2026-02-03 06:30:00">2026-02-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/449a65b8.html" title="〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)"></a><div class="content"><a class="title" href="/posts/449a65b8.html" title="〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)">〔主机註記〕第 103 周主机註記 (Janu.26 - Feb.1)</a><time datetime="2026-01-26T22:30:00.000Z" title="更新於 2026-01-27 06:30:00">2026-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/7cd85ddd.html" title="〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)"></a><div class="content"><a class="title" href="/posts/7cd85ddd.html" title="〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)">〔主机註記〕第 102 周主机註記 (Janu.19 - Janu.25)</a><time datetime="2026-01-19T22:30:00.000Z" title="更新於 2026-01-20 06:30:00">2026-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e0c306a7.html" title="〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)"><img src="/img/zhuji-cover.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)"></a><div class="content"><a class="title" href="/posts/e0c306a7.html" title="〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)">〔主机註記〕第 101 周主机註記 (Janu.12 - Janu.18)</a><time datetime="2026-01-12T22:30:00.000Z" title="更新於 2026-01-13 06:30:00">2026-01-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/d167da02.html" title="【r-906】【初音ミク】黑白感觉"><img src="/img/posts/music/%E3%83%A9%E3%82%B0%E3%83%88%E3%83%AC%E3%82%A4%E3%83%B3.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【r-906】【初音ミク】黑白感觉"></a><div class="content"><a class="title" href="/posts/d167da02.html" title="【r-906】【初音ミク】黑白感觉">【r-906】【初音ミク】黑白感觉</a><time datetime="2026-01-07T16:00:00.000Z" title="更新於 2026-01-08 00:00:00">2026-01-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2026 By 小明同學</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日夜模式切換"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="單欄和雙欄切換"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="設定"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往評論"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到頂端"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{if(window.MathJax)MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typesetPromise();else{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],tags:"none"},chtml:{scale:1.1},options:{enableMenu:!0,renderActions:{findScript:[10,t=>{for(const e of document.querySelectorAll('script[type^="math/tex"]')){const n=!!e.type.match(/; *mode=display/),a=new t.options.MathItem(e.textContent,t.inputJax[0],n),d=document.createTextNode("");e.parentNode.replaceChild(d,e),a.start={node:d,delim:"",n:0},a.end={node:d,delim:"",n:0},t.math.push(a)}},""]}}};const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js",t.id="MathJax-script",t.async=!0,document.head.appendChild(t)}};btf.addGlobalFn("encrypt",t,"mathjax"),window.pjax?t():window.addEventListener("load",t)})()</script><script>(()=>{const o="shuoshuo"===GLOBAL_CONFIG_SITE.pageType,t=null,e=(e=document,n=location.pathname)=>{twikoo.init({el:e.querySelector("#twikoo-wrap"),envId:"https://twikoo.kobicgend.top/",region:"ap-shanghai",onCommentLoaded:()=>{btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))},...t,path:n}),o&&(window.shuoshuoComment.destroyTwikoo=()=>{e.children.length&&(e.innerHTML="",e.classList.add("no-comment"))})},n=(o,t)=>{"object"==typeof twikoo?setTimeout(()=>e(o,t),0):btf.getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(()=>e(o,t))};o?window.shuoshuoComment={loadComment:n}:n()})()</script></div><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="/js/flipcountdown.js"></script><script data-pjax src="/js/runtime.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script></body></html>