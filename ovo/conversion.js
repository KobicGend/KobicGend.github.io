const digits="0123456789ABCDEF",DECIMAL_PRECISION=32;function convertAll(t,e){if(""===t)return document.getElementById("bin").value="",document.getElementById("oct").value="",document.getElementById("dec").value="",document.getElementById("hex").value="",void(document.getElementById("bcd").value="");if(11===e){t=bcdToDec(t),e=10}const[n,r]=t.split("."),o=t.includes("."),i=integerConvertToBaseString(n,e,2),a=integerConvertToBaseString(n,e,8),c=integerConvertToBaseString(n,e,10),l=integerConvertToBaseString(n,e,16),g=decToBCD(c),u=r?fractionalConvertToBaseString(r,e,2):"",d=r?fractionalConvertToBaseString(r,e,8):"",s=r?fractionalConvertToBaseString(r,e,10):"",f=r?fractionalConvertToBaseString(r,e,16):"",S=r?decFractionToBCD(s):"";document.getElementById("bin").value=i+(o?".":"")+u,document.getElementById("oct").value=a+(o?".":"")+d,document.getElementById("dec").value=c+(o?".":"")+s,document.getElementById("hex").value=l+(o?".":"")+f,document.getElementById("bcd").value=g+(o?".":"")+S}function integerConvertToBaseString(t,e,n){if(e===n)return t;if("0"===t)return"0";let r="0";for(let n=0;n<t.length;n++){const o=digits.indexOf(t[n].toUpperCase());r=addStrings(multiplyStringByNumber(r,e),o.toString())}return decToBaseString(r,n)}function fractionalConvertToBaseString(t,e,n,r=32){if(e===n)return t;if(""===t)return"";return decFractionToBaseString(convertFractionTodecString(t,e),n,r)}function validateInput(t,e){let n;switch(e){case 2:case 11:n=/[01.]/g;break;case 8:n=/[0-7.]/g;break;case 10:n=/[0-9.]/g;break;case 16:n=/[0-9a-fA-F.]/g;break;default:return}let r=t.value,o=r.match(n)?.join("")||"";t.value=o}function decToBaseString(t,e){if("0"===t)return"0";let n="",r=t;for(;greaterThan(r,"0");){const t=divideStringByNumber(r,e),o=t.remainder;n=digits[o]+n,r=t.quotient}return n}function convertFractionTodecString(t,e){let n="0",r=e;for(let o=0;o<t.length;o++){n=addFractionStrings(n,divideFractionStrings(digits.indexOf(t[o].toUpperCase()).toString(),r.toString())),r*=e}return n=n.replace(/^0+/,""),""===n?"0":n}function decFractionToBaseString(t,e,n=32){let r="",o=parseFloat("0."+t);for(let t=0;t<n&&o>0;t++){o*=e;const t=Math.floor(o);r+=digits[t],o-=t}return r}function addStrings(t,e){let n=t.length-1,r=e.length-1,o=0,i="";for(;n>=0||r>=0||o>0;){const a=(n>=0?parseInt(t[n--]):0)+(r>=0?parseInt(e[r--]):0)+o;i=a%10+i,o=Math.floor(a/10)}return i}function subtractStrings(t,e){if(t===e)return"0";let n=t.length-1,r=e.length-1,o=0,i="";for(;n>=0;){const a=parseInt(t[n--])-o,c=r>=0?parseInt(e[r--]):0;o=a<c?1:0;i=a+10*o-c+i}return i.replace(/^0+/,"")||"0"}function multiplyStringByNumber(t,e){if(0===e)return"0";if(1===e)return t;let n="0";for(let r=0;r<e;r++)n=addStrings(n,t);return n}function divideStringByNumber(t,e){let n="",r=0;for(let o=0;o<t.length;o++){const i=10*r+parseInt(t[o]);n+=Math.floor(i/e),r=i%e}return n=n.replace(/^0+/,"")||"0",{quotient:n,remainder:r}}function greaterThan(t,e){return t.length!==e.length?t.length>e.length:t>e}function addFractionStrings(t,e){const n=Math.max(t.length,e.length);t=t.padEnd(n,"0"),e=e.padEnd(n,"0");let r=0,o="";for(let i=n-1;i>=0;i--){const n=(parseInt(t[i])||0)+(parseInt(e[i])||0)+r;o=n%10+o,r=Math.floor(n/10)}return r>0&&(o=r+o),o}function divideFractionStrings(t,e){let n=parseInt(t);const r=parseInt(e);let o="0";if(0===r)return"0";if(0===n)return"0";n*=10;let i=8;for(;i-- >0&&n>0;){o+=Math.floor(n/r),n=n%r*10}return"0."+o.substring(1)}function decToBCD(t){let e="";for(let n=0;n<t.length;n++){e+=parseInt(t[n]).toString(2).padStart(4,"0")}return e}function decFractionToBCD(t){let e="";for(let n=0;n<t.length;n++){e+=parseInt(t[n]).toString(2).padStart(4,"0")}return e}function bcdToDec(t){const[e,n]=t.split(".");let r="",o="";if(e){const t=e.padStart(4*Math.ceil(e.length/4),"0");for(let e=0;e<t.length;e+=4){const n=t.slice(e,e+4);r+=parseInt(n,2)}}if(n){const t=n.padEnd(4*Math.ceil(n.length/4),"0");for(let e=0;e<t.length;e+=4){const n=t.slice(e,e+4);o+=parseInt(n,2)}}return r+(n?"."+o:"")}